
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="X-UA-Compatible" content="IE=Edge" />
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>DiskBasedFolder &#8212; Stoner Pacakge API Documentation</title>
    <link rel="stylesheet" href="../_static/better.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <script type="text/javascript" id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="DataMethodsMixin" href="Stoner.folders.mixins.DataMethodsMixin.html" />
    <link rel="prev" title="baseFolder" href="Stoner.folders.core.baseFolder.html" />
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  </head><body>
    <header id="pageheader"><h1><a href="../index.html ">
        Stoner Pacakge API Documentation
    </a></h1></header>
  <div class="related top">
  <nav id="rellinks">
    <ul>
        <li>
          &larr;
          <a href="Stoner.folders.core.baseFolder.html" title="Previous document">baseFolder</a>
        </li>
        <li>
          <a href="Stoner.folders.mixins.DataMethodsMixin.html" title="Next document">DataMethodsMixin</a>
          &rarr;
        </li>
    </ul>
  </nav>
  <nav id="breadcrumbs">
    <ul>
      <li><a href="../index.html">Stoner Package</a></li>
      <li>
        <a href="../Stoner.html"><code class="docutils literal notranslate"><span class="pre">Stoner</span></code> Package</a>
      </li> 
    </ul>
  </nav>
  </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="diskbasedfolder">
<h1>DiskBasedFolder<a class="headerlink" href="#diskbasedfolder" title="Permalink to this headline">¶</a></h1>
<dl class="class">
<dt id="Stoner.folders.mixins.DiskBasedFolder">
<em class="property">class </em><code class="descclassname">Stoner.folders.mixins.</code><code class="descname">DiskBasedFolder</code><span class="sig-paren">(</span><em>*args</em>, <em>**kargs</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/Stoner/folders/mixins.html#DiskBasedFolder"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#Stoner.folders.mixins.DiskBasedFolder" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3/library/functions.html#object" title="(in Python v3.7)"><code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></a></p>
<p>A Mixin class that implmenets reading metadataObjects from disc.</p>
<dl class="attribute">
<dt id="Stoner.folders.mixins.DiskBasedFolder.type">
<code class="descname">type</code><a class="headerlink" href="#Stoner.folders.mixins.DiskBasedFolder.type" title="Permalink to this definition">¶</a></dt>
<dd><p><code class="xref py py-class docutils literal notranslate"><span class="pre">Stoner.Core.metadataObject</span></code>) the type ob object to sotre in the folder (defaults to <code class="xref py py-class docutils literal notranslate"><span class="pre">Stoner.Core.Data</span></code></p>
</dd></dl>

<dl class="attribute">
<dt id="Stoner.folders.mixins.DiskBasedFolder.extra_args">
<code class="descname">extra_args</code><a class="headerlink" href="#Stoner.folders.mixins.DiskBasedFolder.extra_args" title="Permalink to this definition">¶</a></dt>
<dd><p><em>dict</em> – Extra arguments to use when instantiatoing the contents of the folder from a file on disk.</p>
</dd></dl>

<dl class="attribute">
<dt id="Stoner.folders.mixins.DiskBasedFolder.pattern">
<code class="descname">pattern</code><a class="headerlink" href="#Stoner.folders.mixins.DiskBasedFolder.pattern" title="Permalink to this definition">¶</a></dt>
<dd><p><em>str or regexp</em> – A filename globbing pattern that matches the contents of the folder. If a regular expression is provided then
any named groups are used to construct additional metadata entryies from the filename. Default is <em>.</em> to match all files with an extension.</p>
</dd></dl>

<dl class="attribute">
<dt id="Stoner.folders.mixins.DiskBasedFolder.exclude">
<code class="descname">exclude</code><a class="headerlink" href="#Stoner.folders.mixins.DiskBasedFolder.exclude" title="Permalink to this definition">¶</a></dt>
<dd><p><em>str or regexp</em> – A filename globbing pattern that matches files to exclude from the folder.  Default is <a href="#id1"><span class="problematic" id="id2">*</span></a>.tdms_index to exclude all
tdms index files.</p>
</dd></dl>

<dl class="attribute">
<dt id="Stoner.folders.mixins.DiskBasedFolder.read_means">
<code class="descname">read_means</code><a class="headerlink" href="#Stoner.folders.mixins.DiskBasedFolder.read_means" title="Permalink to this definition">¶</a></dt>
<dd><p><em>bool</em> – IF true, additional metatdata keys are added that return the mean value of each column of the data. This can hep in
grouping files where one column of data contains a constant value for the experimental state. Default is False</p>
</dd></dl>

<dl class="attribute">
<dt id="Stoner.folders.mixins.DiskBasedFolder.recursive">
<code class="descname">recursive</code><a class="headerlink" href="#Stoner.folders.mixins.DiskBasedFolder.recursive" title="Permalink to this definition">¶</a></dt>
<dd><p><em>bool</em> – Specifies whether to search recurisvely in a whole directory tree. Default is True.</p>
</dd></dl>

<dl class="attribute">
<dt id="Stoner.folders.mixins.DiskBasedFolder.flatten">
<code class="descname">flatten</code><a class="headerlink" href="#Stoner.folders.mixins.DiskBasedFolder.flatten" title="Permalink to this definition">¶</a></dt>
<dd><p><em>bool</em> – Specify where to present subdirectories as spearate groups in the folder (False) or as a single group (True). Default is False.
The <a class="reference internal" href="#Stoner.folders.mixins.DiskBasedFolder.flatten" title="Stoner.folders.mixins.DiskBasedFolder.flatten"><code class="xref py py-meth docutils literal notranslate"><span class="pre">DiskBasedFolder.flatten()</span></code></a> method has the equivalent effect and <code class="xref py py-meth docutils literal notranslate"><span class="pre">DiskBasedFolder.unflatten()</span></code> reverses it.</p>
</dd></dl>

<dl class="attribute">
<dt id="Stoner.folders.mixins.DiskBasedFolder.discard_earlier">
<code class="descname">discard_earlier</code><a class="headerlink" href="#Stoner.folders.mixins.DiskBasedFolder.discard_earlier" title="Permalink to this definition">¶</a></dt>
<dd><p><em>bool</em> – IF there are several files with the same filename apart from !#### being appended just before the extension, then discard
all except the one with the largest value of #### when collecting the list of files.</p>
</dd></dl>

<dl class="attribute">
<dt id="Stoner.folders.mixins.DiskBasedFolder.directory">
<code class="descname">directory</code><a class="headerlink" href="#Stoner.folders.mixins.DiskBasedFolder.directory" title="Permalink to this definition">¶</a></dt>
<dd><p><em>str</em> – The root directory on disc for the folder - by default this is the current working directory.</p>
</dd></dl>

<dl class="attribute">
<dt id="Stoner.folders.mixins.DiskBasedFolder.multifile">
<code class="descname">multifile</code><a class="headerlink" href="#Stoner.folders.mixins.DiskBasedFolder.multifile" title="Permalink to this definition">¶</a></dt>
<dd><p><em>boo</em> – Whether to select individual files manually that are not (necessarily) in  a common directory structure.</p>
</dd></dl>

<dl class="attribute">
<dt id="Stoner.folders.mixins.DiskBasedFolder.readlist">
<code class="descname">readlist</code><a class="headerlink" href="#Stoner.folders.mixins.DiskBasedFolder.readlist" title="Permalink to this definition">¶</a></dt>
<dd><p><em>bool</em> – Whether to read the directory immediately on creation. Default is True</p>
</dd></dl>

<p class="rubric">Attributes Summary</p>
<table border="1" class="longtable docutils">
<colgroup>
<col width="10%" />
<col width="90%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td><a class="reference internal" href="#Stoner.folders.mixins.DiskBasedFolder.basenames" title="Stoner.folders.mixins.DiskBasedFolder.basenames"><code class="xref py py-obj docutils literal notranslate"><span class="pre">basenames</span></code></a></td>
<td>Returns a list of just the filename parts of the objectFolder.</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#Stoner.folders.mixins.DiskBasedFolder.directory" title="Stoner.folders.mixins.DiskBasedFolder.directory"><code class="xref py py-obj docutils literal notranslate"><span class="pre">directory</span></code></a></td>
<td></td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#Stoner.folders.mixins.DiskBasedFolder.key" title="Stoner.folders.mixins.DiskBasedFolder.key"><code class="xref py py-obj docutils literal notranslate"><span class="pre">key</span></code></a></td>
<td></td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#Stoner.folders.mixins.DiskBasedFolder.not_loaded" title="Stoner.folders.mixins.DiskBasedFolder.not_loaded"><code class="xref py py-obj docutils literal notranslate"><span class="pre">not_loaded</span></code></a></td>
<td>Return an array of True/False for whether we’ve loaded a metadataObject yet.</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#Stoner.folders.mixins.DiskBasedFolder.pattern" title="Stoner.folders.mixins.DiskBasedFolder.pattern"><code class="xref py py-obj docutils literal notranslate"><span class="pre">pattern</span></code></a></td>
<td>Provide support for getting the pattern attribute.</td>
</tr>
</tbody>
</table>
<p class="rubric">Methods Summary</p>
<table border="1" class="longtable docutils">
<colgroup>
<col width="10%" />
<col width="90%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td><a class="reference internal" href="#Stoner.folders.mixins.DiskBasedFolder.fetch" title="Stoner.folders.mixins.DiskBasedFolder.fetch"><code class="xref py py-obj docutils literal notranslate"><span class="pre">fetch</span></code></a>()</td>
<td>Preload the contents of the DiskbasedFolder.</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#Stoner.folders.mixins.DiskBasedFolder.getlist" title="Stoner.folders.mixins.DiskBasedFolder.getlist"><code class="xref py py-obj docutils literal notranslate"><span class="pre">getlist</span></code></a>(**kargs)</td>
<td>Scans the current directory, optionally recursively to build a list of filenames</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#Stoner.folders.mixins.DiskBasedFolder.keep_latest" title="Stoner.folders.mixins.DiskBasedFolder.keep_latest"><code class="xref py py-obj docutils literal notranslate"><span class="pre">keep_latest</span></code></a>()</td>
<td>Filter out earlier revisions of files with the same name.</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#Stoner.folders.mixins.DiskBasedFolder.on_load_process" title="Stoner.folders.mixins.DiskBasedFolder.on_load_process"><code class="xref py py-obj docutils literal notranslate"><span class="pre">on_load_process</span></code></a>(tmp)</td>
<td>Carry out processing on a newly loaded file to set means and extra metadata.</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#Stoner.folders.mixins.DiskBasedFolder.save" title="Stoner.folders.mixins.DiskBasedFolder.save"><code class="xref py py-obj docutils literal notranslate"><span class="pre">save</span></code></a>([root])</td>
<td>Save the entire data folder out to disc using the groups as a directory tree, calling the save method for each file in turn.</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#Stoner.folders.mixins.DiskBasedFolder.unload" title="Stoner.folders.mixins.DiskBasedFolder.unload"><code class="xref py py-obj docutils literal notranslate"><span class="pre">unload</span></code></a>([name])</td>
<td>Removes the instance from memory without losing the name in the Folder.</td>
</tr>
</tbody>
</table>
<p class="rubric">Attributes Documentation</p>
<dl class="attribute">
<dt id="Stoner.folders.mixins.DiskBasedFolder.basenames">
<code class="descname">basenames</code><a class="headerlink" href="#Stoner.folders.mixins.DiskBasedFolder.basenames" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a list of just the filename parts of the objectFolder.</p>
</dd></dl>

<dl class="attribute">
<dt>
<code class="descname">directory</code></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="Stoner.folders.mixins.DiskBasedFolder.key">
<code class="descname">key</code><a class="headerlink" href="#Stoner.folders.mixins.DiskBasedFolder.key" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="Stoner.folders.mixins.DiskBasedFolder.not_loaded">
<code class="descname">not_loaded</code><a class="headerlink" href="#Stoner.folders.mixins.DiskBasedFolder.not_loaded" title="Permalink to this definition">¶</a></dt>
<dd><p>Return an array of True/False for whether we’ve loaded a metadataObject yet.</p>
</dd></dl>

<dl class="attribute">
<dt>
<code class="descname">pattern</code></dt>
<dd><p>Provide support for getting the pattern attribute.</p>
</dd></dl>

<p class="rubric">Methods Documentation</p>
<dl class="method">
<dt id="Stoner.folders.mixins.DiskBasedFolder.fetch">
<code class="descname">fetch</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/Stoner/folders/mixins.html#DiskBasedFolder.fetch"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#Stoner.folders.mixins.DiskBasedFolder.fetch" title="Permalink to this definition">¶</a></dt>
<dd><p>Preload the contents of the DiskbasedFolder.</p>
<p>With multiprocess enabled this will parallel load the contents of the folder into memory.</p>
</dd></dl>

<dl class="method">
<dt id="Stoner.folders.mixins.DiskBasedFolder.getlist">
<code class="descname">getlist</code><span class="sig-paren">(</span><em>**kargs</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/Stoner/folders/mixins.html#DiskBasedFolder.getlist"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#Stoner.folders.mixins.DiskBasedFolder.getlist" title="Permalink to this definition">¶</a></dt>
<dd><p>Scans the current directory, optionally recursively to build a list of filenames</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name" colspan="2">Keyword Arguments:</th></tr>
<tr class="field-odd field"><td>&#160;</td><td class="field-body"><ul class="first last simple">
<li><strong>recursive</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.7)"><em>bool</em></a>) – Do a walk through all the directories for files</li>
<li><strong>directory</strong> (<a class="reference external" href="https://docs.python.org/3/library/string.html#module-string" title="(in Python v3.7)"><em>string</em></a><em> or </em><a class="reference external" href="https://docs.python.org/3/library/constants.html#False" title="(in Python v3.7)"><em>False</em></a>) – Either a string path to a new directory or False to open a dialog box or not set in which case existing
directory is used.</li>
<li><strong>flatten</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.7)"><em>bool</em></a>) – After scanning the directory tree, flaten all the subgroupos to make a flat file list. (this is the previous behaviour of</li>
</ul>
</td>
</tr>
</tbody>
</table>
<p>:keyword <code class="xref py py-meth docutils literal notranslate"><span class="pre">objectFolder.getlist:</span>
<span class="pre">:kwtype</span> <span class="pre">:py:meth:`objectFolder.getlist:</span> <span class="pre">)()</span></code></p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">A copy of the current DataFoder directory with the files stored in the files attribute</td>
</tr>
</tbody>
</table>
<p>getlist() scans a directory tree finding files that match the pattern. By default it will recurse through the entire
directory tree finding sub directories and creating groups in the data folder for each sub directory.</p>
</dd></dl>

<dl class="method">
<dt id="Stoner.folders.mixins.DiskBasedFolder.keep_latest">
<code class="descname">keep_latest</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/Stoner/folders/mixins.html#DiskBasedFolder.keep_latest"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#Stoner.folders.mixins.DiskBasedFolder.keep_latest" title="Permalink to this definition">¶</a></dt>
<dd><p>Filter out earlier revisions of files with the same name.</p>
<p>The CM group LabVIEW software will avoid overwirting files when measuring by inserting !#### where #### is an integer revision number just before the
filename extension. This method will look for instances of several files which differ in name only by the presence of the revision number and will
kepp only the highest revision number. This is useful if several measurements of the same experiment have been carried out, but only the last file is
the correct one.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">A copy of the DataFolder.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="Stoner.folders.mixins.DiskBasedFolder.on_load_process">
<code class="descname">on_load_process</code><span class="sig-paren">(</span><em>tmp</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/Stoner/folders/mixins.html#DiskBasedFolder.on_load_process"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#Stoner.folders.mixins.DiskBasedFolder.on_load_process" title="Permalink to this definition">¶</a></dt>
<dd><p>Carry out processing on a newly loaded file to set means and extra metadata.</p>
</dd></dl>

<dl class="method">
<dt id="Stoner.folders.mixins.DiskBasedFolder.save">
<code class="descname">save</code><span class="sig-paren">(</span><em>root=None</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/Stoner/folders/mixins.html#DiskBasedFolder.save"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#Stoner.folders.mixins.DiskBasedFolder.save" title="Permalink to this definition">¶</a></dt>
<dd><p>Save the entire data folder out to disc using the groups as a directory tree,
calling the save method for each file in turn.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>root</strong> (<em>string</em>) – The root directory to start creating files and subdirectories under. If set to None or not specified, the current folder’s
diretory attribute will be used.</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">A list of the saved files</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="Stoner.folders.mixins.DiskBasedFolder.unload">
<code class="descname">unload</code><span class="sig-paren">(</span><em>name=None</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/Stoner/folders/mixins.html#DiskBasedFolder.unload"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#Stoner.folders.mixins.DiskBasedFolder.unload" title="Permalink to this definition">¶</a></dt>
<dd><p>Removes the instance from memory without losing the name in the Folder.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>name</strong> (<em>string,int or None</em>) – Specifies the entry to unload from memeory. If set to None all loaded entries are unloaded.</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><em>(DataFolder)</em> – returns a copy of itself.</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
            <p class="logo"><a href="../index.html">
              <img class="logo" src="../_static/StonerLogo2.png" alt="Logo"/>
            </a></p>
  <h4>Previous topic</h4>
  <p class="topless"><a href="Stoner.folders.core.baseFolder.html"
                        title="previous chapter">baseFolder</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="Stoner.folders.mixins.DataMethodsMixin.html"
                        title="next chapter">DataMethodsMixin</a></p>
<div class="sourcelink">
  <a href="../_sources/classes/Stoner.folders.mixins.DiskBasedFolder.rst.txt" rel="nofollow">
    Show page source
  </a>
</div>
<div id="searchbox" style="display: none" role="search">
  <h3>Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="../search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    </div>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
  <div class="related bottom">
  <nav id="rellinks">
    <ul>
        <li>
          &larr;
          <a href="Stoner.folders.core.baseFolder.html" title="Previous document">baseFolder</a>
        </li>
        <li>
          <a href="Stoner.folders.mixins.DataMethodsMixin.html" title="Next document">DataMethodsMixin</a>
          &rarr;
        </li>
    </ul>
  </nav>
  <nav id="breadcrumbs">
    <ul>
      <li><a href="../index.html">Stoner Package</a></li>
      <li>
        <a href="../Stoner.html"><code class="docutils literal notranslate"><span class="pre">Stoner</span></code> Package</a>
      </li> 
    </ul>
  </nav>
  </div>
  <footer id="pagefooter">&copy; 2013-15, Gavin Burnell et al.Last updated on Apr 22, 2019.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a>
      1.7.9
        with the <a href="http://github.com/irskep/sphinx-better-theme">
          better</a> theme.

  </footer>

  
  </body>
</html>