<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Stoner.Image.core.ImageArray &#8212; Stoner Pacakge API Documentation</title>
    
    <link rel="stylesheet" href="../_static/classic.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../',
        VERSION:     '1',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true,
        SOURCELINK_SUFFIX: '.txt'
      };
    </script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <script type="text/javascript" src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="ImageArray.__init__" href="Stoner.Image.core.ImageArray.__init__.html" />
    <link rel="prev" title="tex_escape" href="../functions/Stoner.Util.tex_escape.html" /> 
  </head>
  <body role="document">
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="Stoner.Image.core.ImageArray.__init__.html" title="ImageArray.__init__"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="../functions/Stoner.Util.tex_escape.html" title="tex_escape"
             accesskey="P">previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="../index.html">Stoner Package</a> &#187;</li>
          <li class="nav-item nav-item-1"><a href="../Stoner.html" accesskey="U">Stoner Package</a> &#187;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="stoner-image-core-imagearray">
<h1>Stoner.Image.core.ImageArray<a class="headerlink" href="#stoner-image-core-imagearray" title="Permalink to this headline">¶</a></h1>
<dl class="class">
<dt id="Stoner.Image.core.ImageArray">
<em class="property">class </em><code class="descclassname">Stoner.Image.core.</code><code class="descname">ImageArray</code><span class="sig-paren">(</span><em>image=[]</em>, <em>ocr_metadata=False</em>, <em>field_only=False</em>, <em>metadata=None</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/Stoner/Image/core.html#ImageArray"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#Stoner.Image.core.ImageArray" title="Permalink to this definition">¶</a></dt>
<dd><p><a class="reference internal" href="#Stoner.Image.core.ImageArray" title="Stoner.Image.core.ImageArray"><code class="xref py py-class docutils literal"><span class="pre">Stoner.Image.core.ImageArray</span></code></a> is a numpy array like class
with a metadata parameter and pass through to skimage methods.</p>
<p>ImageArray is for manipulating images stored as a 2d numpy array.
It is built to be almost identical to a numpy array except for one extra
parameter which is the metadata. This stores information about the image
in a dictionary object for later retrieval.
All standard numpy functions should work as normal and casting two types
together should yield a ImageArray type (ie. ImageArray+np.ndarray=ImageArray)</p>
<p>In addition any function from skimage should work and return a ImageArray.
They can be called as eg. im=im.gaussian(sigma=2). Don&#8217;t include the module
name, just the function name (ie not filters.gaussian). Also omit the first
image argument required by skimage.</p>
<dl class="attribute">
<dt id="Stoner.Image.core.ImageArray.metadata">
<code class="descname">metadata</code><a class="headerlink" href="#Stoner.Image.core.ImageArray.metadata" title="Permalink to this definition">¶</a></dt>
<dd><p><em>dict</em> &#8211; dictionary of metadata for the image</p>
</dd></dl>

<dl class="attribute">
<dt id="Stoner.Image.core.ImageArray.clone">
<code class="descname">clone</code><a class="headerlink" href="#Stoner.Image.core.ImageArray.clone" title="Permalink to this definition">¶</a></dt>
<dd><p><em>self</em> &#8211; copy of self</p>
</dd></dl>

<dl class="attribute">
<dt id="Stoner.Image.core.ImageArray.max_box">
<code class="descname">max_box</code><a class="headerlink" href="#Stoner.Image.core.ImageArray.max_box" title="Permalink to this definition">¶</a></dt>
<dd><p><em>tuple</em> &#8211; coordinate extent (xmin,xmax,ymin,ymax)</p>
</dd></dl>

<p>For clarity it should be noted that any function will not alter the current
instance, it will clone it first then return the clone after performing the
function on it.</p>
<p>A note on coordinate systems:
For arrays the indexing is (row, column). However the normal way to index
an image would be to do (horizontal, vert), which is the opposite.
In ImageArray the coordinate system is chosen similar to skimage. y points
down x points right and the origin is in the top left corner of the image.
When indexing the array therefore you need to give it (y,x) coordinates
for (row, column).</p>
<blockquote>
<div>&#8212;-&gt; x (column)</div></blockquote>
<div class="line-block">
<div class="line"><br /></div>
<div class="line"><br /></div>
</div>
<p>v
y (row)</p>
<p>eg I want the 4th pixel in the horizontal direction and the 10th pixel down
from the top I would ask for ImageArray[10,4]</p>
<p>but if I want to translate the image 4 in the x direction and 10 in the y
I would call im=im.translate((4,10))</p>
<p class="rubric">Methods</p>
<table border="1" class="longtable docutils">
<colgroup>
<col width="10%" />
<col width="90%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td><a class="reference internal" href="Stoner.Image.core.ImageArray.__init__.html#Stoner.Image.core.ImageArray.__init__" title="Stoner.Image.core.ImageArray.__init__"><code class="xref py py-obj docutils literal"><span class="pre">__init__</span></code></a>([image,&nbsp;ocr_metadata,&nbsp;field_only,&nbsp;...])</td>
<td>Constructor for <a class="reference internal" href="#Stoner.Image.core.ImageArray" title="Stoner.Image.core.ImageArray"><code class="xref py py-class docutils literal"><span class="pre">Stoner.Image.core.ImageArray</span></code></a>.</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="Stoner.Image.core.ImageArray._load.html#Stoner.Image.core.ImageArray._load" title="Stoner.Image.core.ImageArray._load"><code class="xref py py-obj docutils literal"><span class="pre">_load</span></code></a>(filename,&nbsp;\*\*kwargs)</td>
<td>Load an image from a file and return as a 2D array and metadata dictionary.</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="Stoner.Image.core.ImageArray.box.html#Stoner.Image.core.ImageArray.box" title="Stoner.Image.core.ImageArray.box"><code class="xref py py-obj docutils literal"><span class="pre">box</span></code></a>(xmin,&nbsp;xmax,&nbsp;ymin,&nbsp;ymax)</td>
<td>essentially an alias for crop but always returns a view onto</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="Stoner.Image.core.ImageArray.clip_intensity.html#Stoner.Image.core.ImageArray.clip_intensity" title="Stoner.Image.core.ImageArray.clip_intensity"><code class="xref py py-obj docutils literal"><span class="pre">clip_intensity</span></code></a>()</td>
<td>clip intensity that lies outside the range allowed by dtype.</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="Stoner.Image.core.ImageArray.convert_float.html#Stoner.Image.core.ImageArray.convert_float" title="Stoner.Image.core.ImageArray.convert_float"><code class="xref py py-obj docutils literal"><span class="pre">convert_float</span></code></a>([clip_negative])</td>
<td>Return the image converted to floating point type normalised to -1 to 1.</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="Stoner.Image.core.ImageArray.convert_int.html#Stoner.Image.core.ImageArray.convert_int" title="Stoner.Image.core.ImageArray.convert_int"><code class="xref py py-obj docutils literal"><span class="pre">convert_int</span></code></a>()</td>
<td>convert the image to uint16 (the format used by Evico)</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="Stoner.Image.core.ImageArray.crop_image.html#Stoner.Image.core.ImageArray.crop_image" title="Stoner.Image.core.ImageArray.crop_image"><code class="xref py py-obj docutils literal"><span class="pre">crop_image</span></code></a>([box,&nbsp;copy])</td>
<td>Crop the image.</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="Stoner.Image.core.ImageArray.crop_text.html#Stoner.Image.core.ImageArray.crop_text" title="Stoner.Image.core.ImageArray.crop_text"><code class="xref py py-obj docutils literal"><span class="pre">crop_text</span></code></a>([copy])</td>
<td>Crop the bottom text area from a standard Kermit image</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="Stoner.Image.core.ImageArray.dtype_limits.html#Stoner.Image.core.ImageArray.dtype_limits" title="Stoner.Image.core.ImageArray.dtype_limits"><code class="xref py py-obj docutils literal"><span class="pre">dtype_limits</span></code></a>([clip_negative])</td>
<td>Return intensity limits, i.e.</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="Stoner.Image.core.ImageArray.ocr_metadata.html#Stoner.Image.core.ImageArray.ocr_metadata" title="Stoner.Image.core.ImageArray.ocr_metadata"><code class="xref py py-obj docutils literal"><span class="pre">ocr_metadata</span></code></a>([field_only])</td>
<td>Use image recognition to try to pull the metadata numbers off the image</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="Stoner.Image.core.ImageArray.reduce_metadata.html#Stoner.Image.core.ImageArray.reduce_metadata" title="Stoner.Image.core.ImageArray.reduce_metadata"><code class="xref py py-obj docutils literal"><span class="pre">reduce_metadata</span></code></a>()</td>
<td>Reduce the metadata down to a few useful pieces and do a bit of processing.</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="Stoner.Image.core.ImageArray.save.html#Stoner.Image.core.ImageArray.save" title="Stoner.Image.core.ImageArray.save"><code class="xref py py-obj docutils literal"><span class="pre">save</span></code></a>([filename])</td>
<td>Saves the image into the file &#8216;filename&#8217;, compatible with png.</td>
</tr>
</tbody>
</table>
<p class="rubric">Attributes</p>
<table border="1" class="longtable docutils">
<colgroup>
<col width="10%" />
<col width="90%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td><a class="reference internal" href="#Stoner.Image.core.ImageArray.clone" title="Stoner.Image.core.ImageArray.clone"><code class="xref py py-obj docutils literal"><span class="pre">clone</span></code></a></td>
<td>return a copy of the instance</td>
</tr>
<tr class="row-even"><td><code class="xref py py-obj docutils literal"><span class="pre">data</span></code></td>
<td><em>alias for image[</em> &#8211; ]. Equivalence to Stoner.data behaviour</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#Stoner.Image.core.ImageArray.max_box" title="Stoner.Image.core.ImageArray.max_box"><code class="xref py py-obj docutils literal"><span class="pre">max_box</span></code></a></td>
<td>return the coordinate extent (xmin,xmax,ymin,ymax)</td>
</tr>
<tr class="row-even"><td><code class="xref py py-obj docutils literal"><span class="pre">tesseractable</span></code></td>
<td>Do a test call to tesseract to see if it is there and cache the result.</td>
</tr>
</tbody>
</table>
</dd></dl>

</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
            <p class="logo"><a href="../index.html">
              <img class="logo" src="../_static/StonerLogo.png" alt="Logo"/>
            </a></p>
  <h4>Previous topic</h4>
  <p class="topless"><a href="../functions/Stoner.Util.tex_escape.html"
                        title="previous chapter">tex_escape</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="Stoner.Image.core.ImageArray.__init__.html"
                        title="next chapter">ImageArray.__init__</a></p>
  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="../_sources/classes/Stoner.Image.core.ImageArray.rst.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
<div id="searchbox" style="display: none" role="search">
  <h3>Quick search</h3>
    <form class="search" action="../search.html" method="get">
      <div><input type="text" name="q" /></div>
      <div><input type="submit" value="Go" /></div>
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="Stoner.Image.core.ImageArray.__init__.html" title="ImageArray.__init__"
             >next</a> |</li>
        <li class="right" >
          <a href="../functions/Stoner.Util.tex_escape.html" title="tex_escape"
             >previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="../index.html">Stoner Package</a> &#187;</li>
          <li class="nav-item nav-item-1"><a href="../Stoner.html" >Stoner Package</a> &#187;</li> 
      </ul>
    </div>
    <div class="footer" role="contentinfo">
        &#169; Copyright 2013-15, Gavin Burnell et al.
      Last updated on Apr 13, 2017.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.5.1.
    </div>
  </body>
</html>