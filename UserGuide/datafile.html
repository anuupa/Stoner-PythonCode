<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Loading and Examining Data &mdash; Stoner Pacakge API Documentation</title>
    
    <link rel="stylesheet" href="../_static/default.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../',
        VERSION:     '1',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <script type="text/javascript" src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <link rel="top" title="Stoner Pacakge API Documentation" href="../index.html" />
    <link rel="up" title="The Stoner Python Package User Guide" href="ugindex.html" />
    <link rel="next" title="Plotting Data" href="plotfile.html" />
    <link rel="prev" title="Installation of Stoner Package" href="install.html" /> 
  </head>
  <body>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="plotfile.html" title="Plotting Data"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="install.html" title="Installation of Stoner Package"
             accesskey="P">previous</a> |</li>
        <li><a href="../index.html">Stoner Package</a> &raquo;</li>
          <li><a href="ugindex.html" accesskey="U">The Stoner Python Package User Guide</a> &raquo;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body">
            
  <div class="section" id="loading-and-examining-data">
<h1>Loading and Examining Data<a class="headerlink" href="#loading-and-examining-data" title="Permalink to this headline">¶</a></h1>
<div class="section" id="loading-a-data-file">
<h2>Loading a data file<a class="headerlink" href="#loading-a-data-file" title="Permalink to this headline">¶</a></h2>
<p>The first step in using the Stoner module is to load some data from a
measurement.:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="kn">import</span> <span class="nn">Stoner</span>
<span class="n">d</span><span class="o">=</span><span class="n">Stoner</span><span class="o">.</span><span class="n">DataFile</span><span class="p">(</span><span class="s">&#39;my_data.txt&#39;</span><span class="p">)</span>
<span class="n">d</span><span class="o">=</span><span class="n">Stoner</span><span class="o">.</span><span class="n">VSMFile</span><span class="p">(</span><span class="s">&#39;my_VSM_data.fld&#39;</span><span class="p">)</span>
</pre></div>
</div>
<p>In this example we have loaded data from <tt class="docutils literal"><span class="pre">my_data.txt</span></tt> which should be in the
current directory &#8211; here we are assuming that <tt class="docutils literal"><span class="pre">my_data.txt</span></tt> contains data in the
<em>TDI Format 1.5</em> which is produced by the LabVIEW rigs. Assuming that the
file successfully loads, <tt class="docutils literal"><span class="pre">d</span></tt>, is an instance of the <a class="reference internal" href="../classes/Stoner.Core.DataFile.html#Stoner.Core.DataFile" title="Stoner.Core.DataFile"><tt class="xref py py-class docutils literal"><span class="pre">DataFile</span></tt></a> object. Here
the <a class="reference internal" href="../classes/Stoner.Core.DataFile.html#Stoner.Core.DataFile" title="Stoner.Core.DataFile"><tt class="xref py py-class docutils literal"><span class="pre">DataFile</span></tt></a> constructor has been used to both create the instance and load the
data in one go.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last"><a class="reference internal" href="../classes/Stoner.Core.DataFile.html#Stoner.Core.DataFile" title="Stoner.Core.DataFile"><tt class="xref py py-class docutils literal"><span class="pre">DataFile</span></tt></a> will also read a related text format where the first column of the first line contains the string <em>TDI Fromat=Text 1.0</em>
which are produced by some of the LabVIEW rigs used by the Device Materials Group in Cambridge.</p>
</div>
<p>The second example shows the use of one of the sub-classes of the <a class="reference internal" href="../classes/Stoner.Core.DataFile.html#Stoner.Core.DataFile" title="Stoner.Core.DataFile"><tt class="xref py py-class docutils literal"><span class="pre">DataFile</span></tt></a> object to load data
from a specific instrument (in this case the VSM).</p>
<div class="admonition warning">
<p class="first admonition-title">Warning</p>
<p class="last">This is an API change from earlier versions of the Stoner package where a second parameter on the constructor of the DataFile object was used to identify the type of data file. This syntax is now depreciated !).</p>
</div>
<div class="section" id="the-various-flavours-of-the-datafile-class">
<h3>The Various Flavours of the <a class="reference internal" href="../classes/Stoner.Core.DataFile.html#Stoner.Core.DataFile" title="Stoner.Core.DataFile"><tt class="xref py py-class docutils literal"><span class="pre">DataFile</span></tt></a> Class<a class="headerlink" href="#the-various-flavours-of-the-datafile-class" title="Permalink to this headline">¶</a></h3>
<p>To support a variety of different input file formats, the Stoner package provides a slew of subclasses of the base
<a class="reference internal" href="../classes/Stoner.Core.DataFile.html#Stoner.Core.DataFile" title="Stoner.Core.DataFile"><tt class="xref py py-class docutils literal"><span class="pre">DataFile</span></tt></a> class. Each subclass typically provides its own version of the <a class="reference internal" href="../classes/Stoner.Core.DataFile.load.html#Stoner.Core.DataFile.load" title="Stoner.Core.DataFile.load"><tt class="xref py py-meth docutils literal"><span class="pre">DataFile.load()</span></tt></a> method that
understands how to reqad the relevant file.</p>
<div class="section" id="base-classes-and-generic-formats">
<h4>Base Classes and Generic Formats<a class="headerlink" href="#base-classes-and-generic-formats" title="Permalink to this headline">¶</a></h4>
<blockquote>
<div><dl class="docutils">
<dt><a class="reference internal" href="../classes/Stoner.Core.DataFile.html#Stoner.Core.DataFile" title="Stoner.Core.DataFile"><tt class="xref py py-class docutils literal"><span class="pre">DataFile</span></tt></a></dt>
<dd>Tagged Data Interchange Format 1.5 &#8211; the default format produced by the LabVIEW measurement rigs in the CM Physics group in Leeds</dd>
<dt><a class="reference internal" href="../classes/Stoner.FileFormats.CSVFile.html#Stoner.FileFormats.CSVFile" title="Stoner.FileFormats.CSVFile"><tt class="xref py py-class docutils literal"><span class="pre">Stoner.FileFormats.CSVFile</span></tt></a></dt>
<dd>Reads a generic comma separated value file. The <a class="reference internal" href="../classes/Stoner.FileFormats.CSVFile.load.html#Stoner.FileFormats.CSVFile.load" title="Stoner.FileFormats.CSVFile.load"><tt class="xref py py-meth docutils literal"><span class="pre">Stoner.FileFormats.CSVFile.load()</span></tt></a>
routine takes four additional parameters to the constructor and load methods. In
addition to the two extra arguments used for the <em>BigBlue&amp; variant, a
further two parameters specify the deliminators for the data and header rows. :py:class:`Stoner.FileFormats.CSVFile`
also offers a **save*</em> method to allow data to be saved in a simple deliminated text way (see Section <em class="xref std std-ref">save</em> for details).</dd>
<dt><a class="reference internal" href="../classes/Stoner.FileFormats.SPCFile.html#Stoner.FileFormats.SPCFile" title="Stoner.FileFormats.SPCFile"><tt class="xref py py-class docutils literal"><span class="pre">Stoner.FileFormats.SPCFile</span></tt></a></dt>
<dd>Loads a Raman scan file (.spc format) produced by the Rensihaw and Horiba
Raman spectrometers. This may also work for other instruments that produce spc files,
but has not been extensively tested.</dd>
<dt><a class="reference internal" href="../classes/Stoner.FileFormats.TDMSFile.html#Stoner.FileFormats.TDMSFile" title="Stoner.FileFormats.TDMSFile"><tt class="xref py py-class docutils literal"><span class="pre">Stoner.FileFormats.TDMSFile</span></tt></a></dt>
<dd>Loads a file saved in the National Instruments TDMS format</dd>
<dt><a class="reference internal" href="../classes/Stoner.FileFormats.QDSquidVSMFile.html#Stoner.FileFormats.QDSquidVSMFile" title="Stoner.FileFormats.QDSquidVSMFile"><tt class="xref py py-class docutils literal"><span class="pre">Stoner.FileFormats.QDSquidVSMFile</span></tt></a></dt>
<dd>Loads data from a Quantum Design SQUID VSM as used on the I10 Beamline in Diamond and in our labs.</dd>
<dt><a class="reference internal" href="../classes/Stoner.FileFormats.OVFFile.html#Stoner.FileFormats.OVFFile" title="Stoner.FileFormats.OVFFile"><tt class="xref py py-class docutils literal"><span class="pre">Stoner.FileFormats.OVFFile</span></tt></a></dt>
<dd>OVF files are output by a variety of micomagnetics simulators. The standard was designed for the OOMMF code. This class will handle rectangualr mesh files with text or binary formats, versions 1.0 and 2.0</dd>
</dl>
</div></blockquote>
</div>
<div class="section" id="classes-for-specifc-instruments-mainly-ones-owned-by-the-cm-physics-group-in-leeds">
<h4>Classes for Specifc Instruments (Mainly ones owned by the CM Physics Group in Leeds)<a class="headerlink" href="#classes-for-specifc-instruments-mainly-ones-owned-by-the-cm-physics-group-in-leeds" title="Permalink to this headline">¶</a></h4>
<blockquote>
<div><dl class="docutils">
<dt><a class="reference internal" href="../classes/Stoner.FileFormats.VSMFile.html#Stoner.FileFormats.VSMFile" title="Stoner.FileFormats.VSMFile"><tt class="xref py py-class docutils literal"><span class="pre">Stoner.FileFormats.VSMFile</span></tt></a></dt>
<dd>The text files produced by the group&#8217;s Oxford Instruments VSM</dd>
<dt><a class="reference internal" href="../classes/Stoner.FileFormats.BigBlueFile.html#Stoner.FileFormats.BigBlueFile" title="Stoner.FileFormats.BigBlueFile"><tt class="xref py py-class docutils literal"><span class="pre">Stoner.FileFormats.BigBlueFile</span></tt></a></dt>
<dd>Datafiles produced by VB Code running on the Big Blue cryostat. The
<tt class="xref py py-class docutils literal"><span class="pre">Stoner.FileFormats.BigBlue</span></tt> version of the <a class="reference internal" href="../classes/Stoner.Core.DataFile.load.html#Stoner.Core.DataFile.load" title="Stoner.Core.DataFile.load"><tt class="xref py py-meth docutils literal"><span class="pre">DataFile.load()</span></tt></a> and <a class="reference internal" href="../classes/Stoner.Core.DataFile.html#Stoner.Core.DataFile" title="Stoner.Core.DataFile"><tt class="xref py py-class docutils literal"><span class="pre">DataFile</span></tt></a> constructors takes
two additional parameters that specify the row on which the column headers will
be found and the row on which the data starts.</dd>
<dt><a class="reference internal" href="../classes/Stoner.FileFormats.XRDFile.html#Stoner.FileFormats.XRDFile" title="Stoner.FileFormats.XRDFile"><tt class="xref py py-class docutils literal"><span class="pre">Stoner.FileFormats.XRDFile</span></tt></a></dt>
<dd>Loads a scan file produced by Arkengarthdale - the group&#8217;s Brucker D8
XRD Machine.</dd>
<dt><a class="reference internal" href="../classes/Stoner.FileFormats.FmokeFile.html#Stoner.FileFormats.FmokeFile" title="Stoner.FileFormats.FmokeFile"><tt class="xref py py-class docutils literal"><span class="pre">Stoner.FileFormats.FmokeFile</span></tt></a></dt>
<dd>Loads a file from Dan Allwood&#8217;s Focussed MOKE System in Sheffield.</dd>
<dt><a class="reference internal" href="../classes/Stoner.FileFormats.LSTemperatureFile.html#Stoner.FileFormats.LSTemperatureFile" title="Stoner.FileFormats.LSTemperatureFile"><tt class="xref py py-class docutils literal"><span class="pre">Stoner.FileFormats.LSTemperatureFile</span></tt></a></dt>
<dd>Loads and saves data from Lakeshore inc&#8217;s .340 Temperature Calibration file format.</dd>
</dl>
</div></blockquote>
</div>
<div class="section" id="classes-for-instruments-at-major-facilities">
<h4>Classes for Instruments at Major Facilities<a class="headerlink" href="#classes-for-instruments-at-major-facilities" title="Permalink to this headline">¶</a></h4>
<blockquote>
<div><dl class="docutils">
<dt><a class="reference internal" href="../classes/Stoner.FileFormats.BNLFile.html#Stoner.FileFormats.BNLFile" title="Stoner.FileFormats.BNLFile"><tt class="xref py py-class docutils literal"><span class="pre">Stoner.FileFormats.BNLFile</span></tt></a></dt>
<dd>Loads a SPEC file from Brookhaven (so far only tested on u4b files but may well work with
other synchrotron data). Produces metadata Snumber: Scan number, Stype: Type of scan, Sdatetime: date time stamp for the measurement, Smotor: z motor position.</dd>
<dt><a class="reference internal" href="../classes/Stoner.FileFormats.OpenGDAFile.html#Stoner.FileFormats.OpenGDAFile" title="Stoner.FileFormats.OpenGDAFile"><tt class="xref py py-class docutils literal"><span class="pre">Stoner.FileFormats.OpenGDAFile</span></tt></a> Reads an ascii  scan file generated by OpenGDA &#8211; a software</dt>
<dd>suite used for synchrotron such as Diamond.</dd>
<dt><a class="reference internal" href="../classes/Stoner.FileFormats.RasorFile.html#Stoner.FileFormats.RasorFile" title="Stoner.FileFormats.RasorFile"><tt class="xref py py-class docutils literal"><span class="pre">Stoner.FileFormats.RasorFile</span></tt></a></dt>
<dd>Simply an alias for OpenGDAFile used for the RASOR instrument on I10 at Diamond.</dd>
<dt><a class="reference internal" href="../classes/Stoner.FileFormats.SNSFile.html#Stoner.FileFormats.SNSFile" title="Stoner.FileFormats.SNSFile"><tt class="xref py py-class docutils literal"><span class="pre">Stoner.FileFormats.SNSFile</span></tt></a></dt>
<dd>Reads the ascii export file format from <a class="reference external" href="http://sourceforge.net/projects/quicknxs/">QuickNXS</a>
the data reduction software used on the BL-4A Beam Line at the SNS in Oak Ridge.</dd>
<dt><a class="reference internal" href="../classes/Stoner.FileFormats.MDAASCIIFile.html#Stoner.FileFormats.MDAASCIIFile" title="Stoner.FileFormats.MDAASCIIFile"><tt class="xref py py-class docutils literal"><span class="pre">Stoner.FileFormats.MDAASCIIFile</span></tt></a></dt>
<dd>This class will read some variants of the output of mda2ascii as used at the APS in Argonne.</dd>
</dl>
</div></blockquote>
<p>These classes can be used directly to load data from the appropriate format.:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="kn">import</span> <span class="nn">Stoner</span>
<span class="n">d</span><span class="o">=</span><span class="n">Stoner</span><span class="o">.</span><span class="n">DataFile</span><span class="p">()</span>
<span class="n">d</span><span class="o">.</span><span class="n">load</span><span class="p">(</span><span class="s">&#39;my_data.txt&#39;</span><span class="p">)</span>
<span class="n">v</span><span class="o">=</span><span class="n">Stoner</span><span class="o">.</span><span class="n">VSMFIle</span><span class="p">()</span>
<span class="n">v</span><span class="o">.</span><span class="n">load</span><span class="p">(</span><span class="s">&#39;my_VSM_data.fld&#39;</span><span class="p">)</span>
<span class="n">c</span><span class="o">=</span><span class="n">Stoner</span><span class="o">.</span><span class="n">CSVFile</span><span class="p">(</span><span class="s">&#39;data.csv&#39;</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="s">&#39;,&#39;</span><span class="p">,</span><span class="s">&#39;,&#39;</span><span class="p">)</span>
</pre></div>
</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">The load method, like many of the DataFile methods returns a copy of
the Datafile object <strong>as well as</strong> modifying the object itself. The
advantage of this is that it is then possible to chain several methods into one
command</p>
</div>
<p>Sometimes you won&#8217;t know exactly which subclass of <a class="reference internal" href="../classes/Stoner.Core.DataFile.html#Stoner.Core.DataFile" title="Stoner.Core.DataFile"><tt class="xref py py-class docutils literal"><span class="pre">DataFile</span></tt></a> is the one
to use. Unfortunately, there is no sure fire way of telling, but <a class="reference internal" href="../classes/Stoner.Core.DataFile.load.html#Stoner.Core.DataFile.load" title="Stoner.Core.DataFile.load"><tt class="xref py py-meth docutils literal"><span class="pre">DataFile.load()</span></tt></a> will try to do
the best it can and will try all of the subclasses in memory in turn to see if one will
load the file without throwing an error. If this succeeds then the actual type of file that
worked is stored in the metadata of the loaded file.</p>
<div class="admonition warning">
<p class="first admonition-title">Warning</p>
<p class="last">The automatic loading assumes that each load routine does sufficient sanity checking that it will
throw and error if it gets bad data. Whilst one might wish this was always true it relies on
whoever writes the load method to make sure of this ! If you want to stop the automatic guessing
from happening use the <tt class="docutils literal"><span class="pre">auto_load=False</span></tt> keyword in the <em>load()</em> method.</p>
</div>
</div>
</div>
<div class="section" id="loading-data-from-a-string-or-iterable-object">
<h3>Loading Data from a string or iterable object<a class="headerlink" href="#loading-data-from-a-string-or-iterable-object" title="Permalink to this headline">¶</a></h3>
<p>In some circumstances you may have a string representation of a <a class="reference internal" href="../classes/Stoner.Core.DataFile.html#Stoner.Core.DataFile" title="Stoner.Core.DataFile"><tt class="xref py py-class docutils literal"><span class="pre">DataFile</span></tt></a> object and want to
transform this into a proper <a class="reference internal" href="../classes/Stoner.Core.DataFile.html#Stoner.Core.DataFile" title="Stoner.Core.DataFile"><tt class="xref py py-class docutils literal"><span class="pre">DataFile</span></tt></a> object. This might be, for example, from transmitting
the data over a network connection or receiving it from another program. In these situations the
<em>left shift operator</em>,``&lt;&lt;<a href="#id1"><span class="problematic" id="id2">``</span></a>, can be used.:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">data</span><span class="o">=</span><span class="n">Stoner</span><span class="o">.</span><span class="n">Core</span><span class="o">.</span><span class="n">DataFile</span><span class="p">()</span> <span class="o">&lt;&lt;</span> <span class="n">string_of_data</span>
<span class="n">data</span><span class="o">=</span><span class="n">Stoner</span><span class="o">.</span><span class="n">Core</span><span class="o">.</span><span class="n">DataFile</span><span class="p">()</span> <span class="o">&lt;&lt;</span> <span class="n">iterable_object</span>
</pre></div>
</div>
<p>The second example would allow any object that can be iterated (i.e. has a <em>next()</em> method that returns lines
of the data file, to be used as the source of the data. The <a class="reference internal" href="../classes/Stoner.Core.DataFile.html#Stoner.Core.DataFile" title="Stoner.Core.DataFile"><tt class="xref py py-meth docutils literal"><span class="pre">DataFile()</span></tt></a> creates an empty object so
that the left shift operator calls the method in <a class="reference internal" href="../classes/Stoner.Core.DataFile.html#Stoner.Core.DataFile" title="Stoner.Core.DataFile"><tt class="xref py py-class docutils literal"><span class="pre">DataFile</span></tt></a> to read the data in. It also
determines the type of the object <tt class="docutils literal"><span class="pre">data</span></tt>. This also provides an alternative syntax for reading a file
from disk:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">data</span><span class="o">=</span><span class="n">Stoner</span><span class="o">.</span><span class="n">Core</span><span class="o">.</span><span class="n">DataFile</span><span class="p">()</span><span class="o">&lt;&lt;</span><span class="nb">open</span><span class="p">(</span><span class="s">&quot;File on Disk.txt&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="examining-and-basic-manipulations-of-data">
<h2>Examining and Basic Manipulations of Data<a class="headerlink" href="#examining-and-basic-manipulations-of-data" title="Permalink to this headline">¶</a></h2>
<div class="section" id="data-structure">
<h3>Data Structure<a class="headerlink" href="#data-structure" title="Permalink to this headline">¶</a></h3>
<div class="section" id="data-column-headers-and-metadata">
<h4>Data, Column headers and metadata<a class="headerlink" href="#data-column-headers-and-metadata" title="Permalink to this headline">¶</a></h4>
<p>Having loaded some data, the next stage might be to take a look at it.
Internally, data is represented as a 2D numpy masked array of floating point numbers,
along with a list of column headers and a dictionary that keeps the metadata and
also keeps track of the expected type of the metadata (ie the meta-metadata).
These can be accessed like so:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">d</span><span class="o">.</span><span class="n">data</span>
<span class="n">d</span><span class="o">.</span><span class="n">column_headers</span>
<span class="n">d</span><span class="o">.</span><span class="n">metadata</span>
</pre></div>
</div>
</div>
<div class="section" id="masked-data-and-why-you-care">
<h4>Masked Data and Why You Care<a class="headerlink" href="#masked-data-and-why-you-care" title="Permalink to this headline">¶</a></h4>
<p>Masked data arrays differ from normal data arrays in that they include an option to mask or hide individual data elements.
This can be useful to temporarily discount parts of your data when, for example, fitting a curve or calculating a mean
value or plotting some data. One could, of course, simply ignore the masking option and use the data as is,
however, masking does have a number of practical uses.</p>
<p>The data mask can be accessed via the <a class="reference internal" href="../classes/Stoner.Core.DataFile.html#Stoner.Core.DataFile.mask" title="Stoner.Core.DataFile.mask"><tt class="xref py py-attr docutils literal"><span class="pre">DataFile.mask</span></tt></a> attribute of <a class="reference internal" href="../classes/Stoner.Core.DataFile.html#Stoner.Core.DataFile" title="Stoner.Core.DataFile"><tt class="xref py py-class docutils literal"><span class="pre">DataFile</span></tt></a>:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="kn">import</span> <span class="nn">numpy.ma</span> <span class="kn">as</span> <span class="nn">ma</span>
<span class="k">print</span> <span class="n">d</span><span class="o">.</span><span class="n">mask</span>
<span class="n">d</span><span class="o">.</span><span class="n">mask</span><span class="o">=</span><span class="bp">False</span>
<span class="n">d</span><span class="o">.</span><span class="n">mask</span><span class="o">=</span><span class="n">ma</span><span class="o">.</span><span class="n">nomask</span>
<span class="n">d</span><span class="o">.</span><span class="n">mask</span><span class="o">=</span><span class="n">numpy</span><span class="o">.</span><span class="n">array</span><span class="p">([[</span><span class="bp">True</span><span class="p">,</span> <span class="bp">True</span><span class="p">,</span> <span class="n">Fale</span><span class="p">,</span><span class="o">...</span><span class="n">False</span><span class="p">],</span><span class="o">...</span><span class="p">,[</span><span class="bp">False</span><span class="p">,</span><span class="bp">True</span><span class="p">,</span><span class="o">...</span><span class="n">True</span><span class="p">]])</span>
<span class="n">d</span><span class="o">.</span><span class="n">mask</span><span class="o">=</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="n">x</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">&lt;</span><span class="mi">50</span>
<span class="n">d</span><span class="o">.</span><span class="n">mask</span><span class="o">=</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:[</span><span class="n">y</span><span class="o">&lt;</span><span class="mi">50</span> <span class="k">for</span> <span class="n">y</span> <span class="ow">in</span> <span class="n">x</span><span class="p">]</span>
</pre></div>
</div>
<p>The first line is simply the import statement for the numpy masked arrays in order to get the <em>nomask</em>
symbol. The second line will simply print the current mask. The next two examples will unmask all the data
i.e. make the values visible and usable. The next example illustrates using a numpy array of booleans to
set the mask - every element in the mask array that evaluates as a boolean True will be masked and every
False value unmasked. So far the semantics here are the same as if one had accessed the mask directly on
the data via <tt class="docutils literal"><span class="pre">d.data.mask</span></tt> but the final two examples illustrate an extension that setting the
<a class="reference internal" href="../classes/Stoner.Core.DataFile.html#Stoner.Core.DataFile" title="Stoner.Core.DataFile"><tt class="xref py py-class docutils literal"><span class="pre">DataFile</span></tt></a> mask attribute allows. If you pass a callable object to the mask attribute it will
be executed, passing each row of the data array to the user supplied function as a numpy array. The user
supplied function can then either return a single boolean value &#8211; in which case it will be used to mask
the entire row &#8211; or a list of boolean values to mask individual cells in the current row.</p>
<p>By default when the <a class="reference internal" href="../classes/Stoner.Core.DataFile.html#Stoner.Core.DataFile" title="Stoner.Core.DataFile"><tt class="xref py py-class docutils literal"><span class="pre">DataFile</span></tt></a> object is printed or saved, data values that have been masked are replaced
with a <a href="#id3"><span class="problematic" id="id4">``</span></a>fill&#8217;&#8217; value of 10^20.</p>
<div class="admonition warning">
<p class="first admonition-title">Warning</p>
<p class="last">This is somewhat dangerous behaviour. Be very careful to remove a mask before saving data if there is any
chance that you will need the masked data values again later !</p>
</div>
</div>
</div>
<div class="section" id="working-with-columns-of-data">
<h3>Working with columns of data<a class="headerlink" href="#working-with-columns-of-data" title="Permalink to this headline">¶</a></h3>
<p>This is all very well, but often you want to examine a particular column of data
or a particular row:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">d</span><span class="o">.</span><span class="n">column</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
<span class="n">d</span><span class="o">.</span><span class="n">column</span><span class="p">(</span><span class="s">&#39;Temperature&#39;</span><span class="p">)</span>
<span class="n">d</span><span class="o">.</span><span class="n">column</span><span class="p">([</span><span class="s">&#39;Temperature&#39;</span><span class="p">,</span><span class="mi">0</span><span class="p">])</span>
</pre></div>
</div>
<p>In the first example, the first column of numeric data will be returned. In the
second example, the column headers will first be checked for one labeled exactly
<em>Temperature</em> and then if no column is found, the column headers will be
searched using <em>Temperature</em> as a regular expression. This would then
match <em>Temperature (K)</em> or <em>Sample Temperature</em>.  The third
example results in a 2 dimensional numpy array containing two columns in the
order that they appear in the list (ie not the order that they are in the data
file). For completeness, the <a class="reference internal" href="../classes/Stoner.Core.DataFile.column.html#Stoner.Core.DataFile.column" title="Stoner.Core.DataFile.column"><tt class="xref py py-meth docutils literal"><span class="pre">DataFile.column()</span></tt></a> method also allows one to
pass slices to select columns and should do the expected thing.</p>
<p>There is a convenient short cut for working with cases where the column headers are not the same
as the names of any of the attributes of the <a class="reference internal" href="../classes/Stoner.Core.DataFile.html#Stoner.Core.DataFile" title="Stoner.Core.DataFile"><tt class="xref py py-class docutils literal"><span class="pre">DataFile</span></tt></a> object:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">d</span><span class="o">.</span><span class="n">Temperature</span>
<span class="n">d</span><span class="o">.</span><span class="n">column</span><span class="p">(</span><span class="s">&#39;Temperature&#39;</span><span class="p">)</span>
</pre></div>
</div>
<p>both return the same data.</p>
<p>Whenever the Stoner package needs to refer to a column of data, you cn specify it in a number of ways:-</p>
<blockquote>
<div><ol class="arabic">
<li><p class="first">As an integer where the first column on the left is index 0</p>
</li>
<li><dl class="first docutils">
<dt>As a string. if the string matches a column header exactly then the index of that column is returned.</dt>
<dd><p class="first last">If the string fails to match any column header it is compiled as a regular expression and then that
is tried as a match. If multiple columns match then only the first is returned.</p>
</dd>
</dl>
</li>
<li><dl class="first docutils">
<dt>As a regular expression directly - this is similar to the case above with a string, but allows you to pass a pre-compiled regular</dt>
<dd><p class="first last">expression in directly with any extra options (like case insensitivity flags) set.</p>
</dd>
</dl>
</li>
<li><p class="first">As a slice object (ee.g. <tt class="docutils literal"><span class="pre">0:10:2</span></tt>) this is expanded to a list of integers.</p>
</li>
<li><dl class="first docutils">
<dt>As a list of any of the above, in which case the column finding routine is called recursively in turn for each element of the list and</dt>
<dd><p class="first last">the final result would be to use a list of column indices.</p>
</dd>
</dl>
</li>
</ol>
</div></blockquote>
<dl class="docutils">
<dt>For example::</dt>
<dd>import re
col=re.compile(&#8216;^temp&#8217;,re.IGNORECASE)
d.column(col)</dd>
</dl>
<div class="section" id="other-ways-to-identify-columns-of-data">
<h4>Other ways to Identify Columns of Data<a class="headerlink" href="#other-ways-to-identify-columns-of-data" title="Permalink to this headline">¶</a></h4>
<p>Often in a calculation with some data you will be using one column for &#8216;x&#8217; values and one or more &#8216;y&#8217; columns
or indeed having &#8216;z&#8217; column data and uncertainties in all of these (conventionally we call these &#8216;d&#8217;, &#8216;e&#8217; and &#8216;f&#8217; columns
so that &#8216;e&#8217; data is the error in the y data). DataFile has a concept of marking a column as containing such data and
will then use these by default in many methods when appropriate to have &#8216;x&#8217; and &#8216;y&#8217; data.</p>
<p>For data that describes a vector field, you can mark the columns as containing &#8216;u&#8217;, &#8216;v&#8217;, &#8216;w&#8217; data where (u,v,w) is the vector value at the point (x,y,z). There&#8217;s no
support at present for uncertainities in (u,v,w) being marked.</p>
<p>To set which columns contain &#8216;x&#8217;,&#8217;y&#8217; etc data use the <a class="reference internal" href="../classes/Stoner.Core.DataFile.html#Stoner.Core.DataFile.setas" title="Stoner.Core.DataFile.setas"><tt class="xref py py-attr docutils literal"><span class="pre">DataFile.setas</span></tt></a> attribute. This attribute can take
a list of single character strings from the set &#8216;x&#8217;,&#8217;y&#8217;,&#8217;z&#8217;,&#8217;d&#8217;,&#8217;e&#8217;, &#8216;f&#8217;, &#8216;u&#8217;, &#8216;v&#8217;, &#8216;w&#8217; or &#8216;.&#8217; where each element of the list refers to
the columns of data in order. To specify that a column has unmarked data use the &#8216;.&#8217; string.</p>
<p>Alternately, you can pass <a class="reference internal" href="../classes/Stoner.Core.DataFile.html#Stoner.Core.DataFile.setas" title="Stoner.Core.DataFile.setas"><tt class="xref py py-attr docutils literal"><span class="pre">DataFile.setas</span></tt></a> a string. In the simplest case, the string is just read in the same way that
the list would have been  - each character corresponds to one column. However, if the string contains an integer, then the next
non-numeric character will be interpreted that many times, so:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">d</span><span class="o">.</span><span class="n">setas</span><span class="o">=</span><span class="s">&quot;3.xy&quot;</span>
<span class="n">d</span><span class="o">.</span><span class="n">setas</span><span class="o">=</span><span class="s">&quot;...xy&quot;</span>
<span class="n">d</span><span class="o">.</span><span class="n">setas</span><span class="o">=</span><span class="p">[</span><span class="s">&#39;.&#39;</span><span class="p">,</span><span class="s">&#39;.&#39;</span><span class="p">,</span><span class="s">&#39;.&#39;</span><span class="p">,</span><span class="s">&#39;x&#39;</span><span class="p">,</span><span class="s">&#39;y&#39;</span><span class="p">]</span>
</pre></div>
</div>
<p>all achieve the same effect.</p>
<p>Once you have identified columns for the various types, you also have access to utility attributes to access those columns:</p>
<blockquote>
<div>d.setas=&#8221;3.xye&#8217;
d.x == d.column(3)
d.y == d.column(4)
d.e == d.column(5)</div></blockquote>
<p>Note that if <a class="reference internal" href="../classes/Stoner.Core.DataFile.html#Stoner.Core.DataFile.setas" title="Stoner.Core.DataFile.setas"><tt class="xref py py-attr docutils literal"><span class="pre">DataFile.setas</span></tt></a> is not set then attempting to use the quick access column attributes will
result in an exception. Once the <a class="reference internal" href="../classes/Stoner.Core.DataFile.html#Stoner.Core.DataFile.setas" title="Stoner.Core.DataFile.setas"><tt class="xref py py-attr docutils literal"><span class="pre">DataFile.setas</span></tt></a> attribute is set, a further set of <em>virtual</em> or <em>derived</em> column attributes
become available.:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">d</span><span class="o">.</span><span class="n">setas</span><span class="o">=</span><span class="s">&quot;xyz&quot;</span>
<span class="n">d</span><span class="o">.</span><span class="n">r</span> <span class="c"># The magnitude of the point x,y,z</span>
<span class="n">d</span><span class="o">.</span><span class="n">q</span> <span class="c"># The angle in the x-y plane relative to the x axis</span>
<span class="n">d</span><span class="o">.</span><span class="n">p</span> <span class="c"># The angle relative to the z axis</span>
<span class="n">d</span><span class="o">.</span><span class="n">setas</span><span class="o">=</span><span class="s">&quot;xyz..uvw&quot;</span>
<span class="n">d</span><span class="o">.</span><span class="n">r</span> <span class="c"># the magnitude of (u,v,w)</span>
<span class="n">d</span><span class="o">.</span><span class="n">q</span> <span class="c"># The angle in the x-y plane of (u,v) relative to +x</span>
<span class="n">d</span><span class="o">.</span><span class="n">p</span> <span class="c"># The angle of (u,v,w) relatiuve to +z</span>
</pre></div>
</div>
<p>Where fewer than 3 or 6 dimensions are specified, these virtual columns fallback to working with the appropriate
reduced number dimensions.</p>
<p>There are some more convenience ways to set which columns to use as x,y,z etc.:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">d</span><span class="o">.</span><span class="n">setas</span><span class="o">=</span><span class="p">{</span><span class="s">&quot;x&quot;</span><span class="p">:</span><span class="mi">0</span><span class="p">,</span><span class="s">&quot;y&quot;</span><span class="p">:</span><span class="s">&quot;Y Column title&quot;</span><span class="p">}</span>
<span class="n">d</span><span class="o">.</span><span class="n">x</span><span class="o">=</span><span class="mi">0</span>
<span class="n">d</span><span class="o">.</span><span class="n">y</span><span class="o">=</span><span class="s">&quot;Y Column title&quot;</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="working-with-complete-rows-of-data">
<h3>Working with complete rows of data<a class="headerlink" href="#working-with-complete-rows-of-data" title="Permalink to this headline">¶</a></h3>
<p>Rows don&#8217;t have labels, so are accessed directly by number:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">d</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span>
<span class="n">d</span><span class="p">[</span><span class="mi">1</span><span class="p">:</span><span class="mi">4</span><span class="p">]</span>
</pre></div>
</div>
<p>The second example uses a slice to pull out more than one row. This syntax also
supports the full slice syntax which allows one to, for example, decimate the
rows, or directly pull out the last fews rows in the file.</p>
</div>
<div class="section" id="manipulating-the-metadata">
<h3>Manipulating the metadata<a class="headerlink" href="#manipulating-the-metadata" title="Permalink to this headline">¶</a></h3>
<p>What happens if you use a string and not a number in the above examples ?:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">d</span><span class="p">[</span><span class="s">&#39;User&#39;</span><span class="p">]</span>
</pre></div>
</div>
<p>in this case, it is assumed that you meant the metadata with key <em>User</em>.
To get a list of possible keys in the metadata, you can do:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">d</span><span class="o">.</span><span class="n">dir</span><span class="p">()</span>
<span class="n">d</span><span class="o">.</span><span class="n">dir</span><span class="p">(</span><span class="s">&#39;Option\:.*&#39;</span><span class="p">)</span>
</pre></div>
</div>
<p>In the first case, all of the keys will be returned in a list. In the second,
only keys matching the pattern will be returned &#8211; all keys containing
<em>Option:</em>. For compatibility with normal opython semantics: <a class="reference internal" href="../classes/Stoner.Core.DataFile.keys.html#Stoner.Core.DataFile.keys" title="Stoner.Core.DataFile.keys"><tt class="xref py py-meth docutils literal"><span class="pre">DataFile.keys()</span></tt></a> is
synonymous with <a class="reference internal" href="../classes/Stoner.Core.DataFile.dir.html#Stoner.Core.DataFile.dir" title="Stoner.Core.DataFile.dir"><tt class="xref py py-meth docutils literal"><span class="pre">DataFile.dir()</span></tt></a>.</p>
<p>We mentioned above that the metadata also keeps a note of the expected type of
the data. You can get at the metadata type for a particular key like this:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">d</span><span class="o">.</span><span class="n">metadata</span><span class="o">.</span><span class="n">type</span><span class="p">(</span><span class="s">&#39;User&#39;</span><span class="p">)</span>
</pre></div>
</div>
<p>to get a dictionary of all of the types associated with each key you could do:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="nb">dict</span><span class="p">(</span><span class="nb">zip</span><span class="p">(</span><span class="n">d</span><span class="o">.</span><span class="n">dir</span><span class="p">(),</span><span class="n">d</span><span class="o">.</span><span class="n">metadata</span><span class="o">.</span><span class="n">type</span><span class="p">(</span><span class="n">d</span><span class="o">.</span><span class="n">dir</span><span class="p">())))</span>
</pre></div>
</div>
<p>but an easier way would be to use the <tt class="xref py py-attr docutils literal"><span class="pre">typeHintedDict.types</span></tt> attribute:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">d</span><span class="o">.</span><span class="n">metadata</span><span class="o">.</span><span class="n">types</span>
</pre></div>
</div>
</div>
<div class="section" id="more-on-indexing-the-data">
<h3>More on Indexing the data<a class="headerlink" href="#more-on-indexing-the-data" title="Permalink to this headline">¶</a></h3>
<p>There are a number o other forms of indexing supported for <a class="reference internal" href="../classes/Stoner.Core.DataFile.html#Stoner.Core.DataFile" title="Stoner.Core.DataFile"><tt class="xref py py-class docutils literal"><span class="pre">DataFile</span></tt></a>
objects.:</p>
<div class="highlight-python"><div class="highlight"><pre>d[10,0]
d[0:10,0]
d[10,&#39;Temp&#39;]
d[0:10,[&#39;Voltage&#39;,&#39;Temp&#39;]
</pre></div>
</div>
<p>The first variant just returns the data in the 11th row, first column (remember
indexing starts at 0). The second variant returns the first 10 values in the
first column. The third variant demonstrates that columns can be indexed by
string as well as number, and the last variant demonstrates indexing
multiplerows and columns &#8211; in this case the first 10 values of the Voltage and
Temp columns.</p>
<p>You might think of the data as being a list of records, where each column is a
field in the record. Numpy supports this type of structured record view of data
and the <a class="reference internal" href="../classes/Stoner.Core.DataFile.html#Stoner.Core.DataFile" title="Stoner.Core.DataFile"><tt class="xref py py-class docutils literal"><span class="pre">DataFile</span></tt></a> object provides the <a class="reference internal" href="../classes/Stoner.Core.DataFile.html#Stoner.Core.DataFile.records" title="Stoner.Core.DataFile.records"><tt class="xref py py-attr docutils literal"><span class="pre">DataFile.records</span></tt></a>
attribute to d this. This read-only attribute is just providing an alternative
view of the same data.:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">d</span><span class="o">.</span><span class="n">records</span>
</pre></div>
</div>
<div class="section" id="selecting-individual-rows-and-columns-of-data">
<h4>Selecting Individual rows and columns of data<a class="headerlink" href="#selecting-individual-rows-and-columns-of-data" title="Permalink to this headline">¶</a></h4>
<p>Many of the function in the Stoner module index columns by searching the column
headings. If one wishes to find the numeric index of a column then the
<a class="reference internal" href="../classes/Stoner.Core.DataFile.find_col.html#Stoner.Core.DataFile.find_col" title="Stoner.Core.DataFile.find_col"><tt class="xref py py-meth docutils literal"><span class="pre">DataFile.find_col()</span></tt></a> method can be used:</p>
<div class="highlight-python"><div class="highlight"><pre>index=d.find_col(1)
index=d.find_col(&#39;Temperature&#39;)
index=d.find_col(&#39;Temp.*&#39;)
index=d.find_col(&#39;1&#39;)
index=d.find_col(1:10:2)
index=d.find_col([&#39;Temperature&#39;,2,&#39;Resistance&#39;])
</pre></div>
</div>
<p><a class="reference internal" href="../classes/Stoner.Core.DataFile.find_col.html#Stoner.Core.DataFile.find_col" title="Stoner.Core.DataFile.find_col"><tt class="xref py py-meth docutils literal"><span class="pre">DataFile.find_col()</span></tt></a> takes a number of different forms. If the argument
is an integer then it returns (trivially) the same integer, a string argument is
first checked to see if it exactly matches one of the column headers in which
case the number of the matching column heading is returned. If no exact match is
found then a regular expression search is carried out on the column headings. In
both cases, only the first match is returned. If the string still doesn&#8217;t match, then
the string is checked to see if it can be cast to an integer, in which case the integer value is used.</p>
<p>The final two examples given above
both return a list of indices, firstly using a slice construct - in this case
the result is trivially the same as the slice itself, and in the last example by
passing a list of column headers to look for.</p>
<p>This is the function that is used internally by <a class="reference internal" href="../classes/Stoner.Core.DataFile.column.html#Stoner.Core.DataFile.column" title="Stoner.Core.DataFile.column"><tt class="xref py py-meth docutils literal"><span class="pre">DataFile.column()</span></tt></a>,
<a class="reference internal" href="../classes/Stoner.Core.DataFile.search.html#Stoner.Core.DataFile.search" title="Stoner.Core.DataFile.search"><tt class="xref py py-meth docutils literal"><span class="pre">DataFile.search()</span></tt></a> etc and for this reason the trivial integer and slice
forms are implemented to allow these other functions to work with multiple
columns.</p>
<p>Sometimes you may want to iterate over all of the rows or columns in a data set.
This can be done quite easily:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="k">for</span> <span class="n">row</span> <span class="ow">in</span> <span class="n">d</span><span class="o">.</span><span class="n">rows</span><span class="p">():</span>
      <span class="k">print</span> <span class="n">row</span>

<span class="k">for</span> <span class="n">column</span> <span class="ow">in</span> <span class="n">d</span><span class="o">.</span><span class="n">columns</span><span class="p">():</span>
      <span class="k">print</span> <span class="n">column</span>
<span class="o">......</span>
</pre></div>
</div>
<p>The first example could also have been written more compactly as:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="k">for</span> <span class="n">row</span> <span class="ow">in</span> <span class="n">d</span><span class="p">:</span>
      <span class="k">print</span> <span class="n">row</span>
<span class="o">......</span>
</pre></div>
</div>
</div>
<div class="section" id="searching-sectioning-and-filtering-the-data">
<h4>Searching, sectioning and filtering the data<a class="headerlink" href="#searching-sectioning-and-filtering-the-data" title="Permalink to this headline">¶</a></h4>
<p>In many cases you do not know which rows in the data file are of interest - in
this case you want to search the data.:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">d</span><span class="o">.</span><span class="n">search</span><span class="p">(</span><span class="s">&#39;Temperature&#39;</span><span class="p">,</span><span class="mf">4.2</span><span class="p">,</span><span class="n">accuracy</span><span class="o">=</span><span class="mf">0.01</span><span class="p">)</span>
<span class="n">d</span><span class="o">.</span><span class="n">search</span><span class="p">(</span><span class="s">&#39;Temperature&#39;</span><span class="p">,</span><span class="mf">4.2</span><span class="p">,[</span><span class="s">&#39;Temperature&#39;</span><span class="p">,</span><span class="s">&#39;Resistance&#39;</span><span class="p">])</span>
<span class="n">d</span><span class="o">.</span><span class="n">search</span><span class="p">(</span><span class="s">&#39;Temperature&#39;</span><span class="p">,</span><span class="k">lambda</span> <span class="n">x</span><span class="p">,</span><span class="n">y</span><span class="p">:</span> <span class="n">x</span><span class="o">&gt;</span><span class="mi">10</span> <span class="ow">and</span> <span class="n">x</span><span class="o">&lt;</span><span class="mi">100</span><span class="p">)</span>
<span class="n">d</span><span class="o">.</span><span class="n">search</span><span class="p">(</span><span class="s">&#39;Temperature&#39;</span><span class="p">,</span><span class="k">lambda</span> <span class="n">x</span><span class="p">,</span><span class="n">y</span><span class="p">:</span> <span class="n">x</span><span class="o">&gt;</span><span class="mi">10</span> <span class="ow">and</span>
              <span class="n">x</span><span class="o">&lt;</span><span class="mi">1000</span> <span class="ow">and</span> <span class="n">y</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">&lt;</span><span class="mi">1000</span><span class="p">,[</span><span class="s">&#39;Temperature&#39;</span><span class="p">,</span><span class="s">&#39;Resistance&#39;</span><span class="p">])</span>
</pre></div>
</div>
<p>The general form is <tt class="docutils literal"><span class="pre">DataFile.search(&lt;search</span> <span class="pre">column&gt;,&lt;search</span> <span class="pre">term&gt;[,&lt;listof</span> <span class="pre">return</span> <span class="pre">columns&gt;])</span></tt></p>
<p>The first example will return all the rows where the value of the
<em>Tenperature</em> column is 4.2. The second example is the same, but only
returns the values from the <em>Temperature</em>, and <em>Resistance</em>
columns. The rules for selecting the columns are the same as for the
DataFile.column method above &#8211; strings are matched against column headers and
integers select column by number.</p>
<p>The third and fourth examples above demonstrate the use of a function as the
search value. This allows quite complex search criteria to be used. The function
passed to the search routine should take two parameters &#8211; a floating point
number and a numpy array of floating point numbers and should return either
<strong>True</strong> or <strong>False</strong>. The function is evaluated for each row in the
data file and is passed the value corresponding to the search column as the
first parameter while the second parameter contains a list of all of the values
in the row to be returned. If the search function returns True, then the row is
returned, otherwise it isn&#8217;t. In thr last example, the final parameter can
either be a list of columns or a single column. The rules for indexing columns
are the same as used for the <a class="reference internal" href="../classes/Stoner.Core.DataFile.find_col.html#Stoner.Core.DataFile.find_col" title="Stoner.Core.DataFile.find_col"><tt class="xref py py-meth docutils literal"><span class="pre">DataFile.find_col()</span></tt></a> method.</p>
<p>The &#8216;accuracy&#8217; keyword parameter sets the level of accuracy to accept when testing
equality or ranges (i.e. when the value parameter is a float or a tuple) - this avoids
the problem of rounding errors with floating point arithmetic. The default is accuracy is 0.0.</p>
<p>Sometimes you may want not to get the rows of data that you are looking for as a
separate array, but merely mark them for inclusion (or exclusion) from subsequent
operations. This is where the masked array (see &#8216;<em class="xref std std-ref">maskeddata</em>) comes into its own.
To select which rows of data have been masked off, use the <a class="reference internal" href="../classes/Stoner.Core.DataFile.filter.html#Stoner.Core.DataFile.filter" title="Stoner.Core.DataFile.filter"><tt class="xref py py-meth docutils literal"><span class="pre">DataFile.filter()</span></tt></a> method.:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">d</span><span class="o">.</span><span class="n">filter</span><span class="p">(</span><span class="k">lambda</span> <span class="n">r</span><span class="p">:</span><span class="n">r</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">&gt;</span><span class="mi">5</span><span class="p">)</span>
<span class="n">d</span><span class="o">.</span><span class="n">filter</span><span class="p">(</span><span class="k">lambda</span> <span class="n">r</span><span class="p">:</span><span class="n">r</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">&gt;</span><span class="mi">5</span><span class="p">,[</span><span class="s">&#39;Temp&#39;</span><span class="p">])</span>
</pre></div>
</div>
<p>With just a single argument, the filter method takes a complete row at a time and passes it
to the first argument, expecting to get a boolean response (or list olf booleans equal in length
to the number of columns). With a second argument as in the second example, you can sepcify which
columns are passed to the filtering function in what order. The second argument must be a list
of things which can be used to index a column (ie strings, integers, regular expressions).</p>
<p>Another option is to construct a new <cite>DataFile</cite> object from a section of the data - this is
particularly useful where the <cite>DataFile</cite> represents data correspondi ng to a set of (x,y,z)
points. For this case the :py:,eth:<cite>DataFile.section</cite> method can be used:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">d</span><span class="o">.</span><span class="n">setas</span><span class="o">=</span><span class="s">&quot;x..y.z.&quot;</span>
<span class="n">slab</span><span class="o">=</span><span class="n">d</span><span class="o">.</span><span class="n">section</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="mf">5.2</span><span class="p">)</span>
<span class="n">line</span><span class="o">=</span><span class="n">d</span><span class="o">.</span><span class="n">section</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="mf">4.7</span><span class="p">,</span><span class="n">z</span><span class="o">=</span><span class="mi">2</span><span class="p">)</span>
<span class="n">thick_slab</span><span class="o">=</span><span class="n">d</span><span class="o">.</span><span class="n">section</span><span class="p">(</span><span class="n">z</span><span class="o">=</span><span class="p">(</span><span class="mf">5.0</span><span class="p">,</span><span class="mf">6.0</span><span class="p">))</span>
<span class="n">arbitary</span><span class="o">=</span><span class="n">d</span><span class="o">.</span><span class="n">section</span><span class="p">(</span><span class="n">r</span><span class="o">=</span><span class="k">lambda</span> <span class="n">x</span><span class="p">,</span><span class="n">y</span><span class="p">,</span><span class="n">z</span><span class="p">:</span><span class="mi">3</span><span class="o">*</span><span class="n">x</span><span class="o">-</span><span class="mi">2</span><span class="o">*</span><span class="n">y</span><span class="o">+</span><span class="n">z</span><span class="o">-</span><span class="mi">4</span><span class="o">==</span><span class="mi">0</span><span class="p">)</span>
</pre></div>
</div>
<p>After the x, y, z data columns are identified, the <a class="reference internal" href="../classes/Stoner.Core.DataFile.section.html#Stoner.Core.DataFile.section" title="Stoner.Core.DataFile.section"><tt class="xref py py-meth docutils literal"><span class="pre">DataFile.section()</span></tt></a> method works with
&#8216;x&#8217;, &#8216;y&#8217; and &#8216;z&#8217; keyword arguments which ar then used to search for matching data rows (the arguments to
these keyword arguments follow the same rules as the <a href="#id5"><span class="problematic" id="id6">:py:math:`DataFile.search`</span></a> method). The</p>
</div>
<div class="section" id="find-out-more-about-the-data">
<h4>Find out more about the data<a class="headerlink" href="#find-out-more-about-the-data" title="Permalink to this headline">¶</a></h4>
<p>Another question you might want to ask is, what are all the unique
values of data in a given column (or set of columns). The Python numpy
package has a function to do this and we have a direct pass through
from the DataFile object for this:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">d</span><span class="o">.</span><span class="n">unique</span><span class="p">(</span><span class="s">&#39;Temp&#39;</span><span class="p">)</span>
<span class="n">d</span><span class="o">.</span><span class="n">unique</span><span class="p">(</span><span class="n">column</span><span class="p">,</span><span class="n">return_index</span><span class="o">=</span><span class="bp">False</span><span class="p">,</span> <span class="n">return_inverse</span><span class="o">=</span><span class="bp">False</span><span class="p">)</span>
</pre></div>
</div>
<p>The two optional keywords cause the numpy routine to return the
indices of the unique and all non-unique values in the array. The
column is specified in the same way as the <a class="reference internal" href="../classes/Stoner.Core.DataFile.column.html#Stoner.Core.DataFile.column" title="Stoner.Core.DataFile.column"><tt class="xref py py-meth docutils literal"><span class="pre">DataFile.column()</span></tt></a>
method does.</p>
</div>
<div class="section" id="copying-data">
<h4>Copying Data<a class="headerlink" href="#copying-data" title="Permalink to this headline">¶</a></h4>
<p>One of the characteristics of Python that can confuse those used to other
programming languages is that assignments and argument passing is by reference
and not by value. This can lead to unexpected results as you can end up modifying variables
you were not expecting ! To help with creating genuine copies of data Python provides the copy module.
Whilst this works with DataFile objects, for convenience, the <a class="reference internal" href="../classes/Stoner.Core.DataFile.html#Stoner.Core.DataFile.clone" title="Stoner.Core.DataFile.clone"><tt class="xref py py-attr docutils literal"><span class="pre">DataFile.clone</span></tt></a> atribute is
provided to make a deep copy of a DataFile object.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">This is an attribute not a method, so there are no brackets here !</p>
</div>
<div class="highlight-python"><div class="highlight"><pre><span class="n">t</span><span class="o">=</span><span class="n">d</span><span class="o">.</span><span class="n">clone</span>
</pre></div>
</div>
</div>
</div>
</div>
<div class="section" id="modifying-data">
<h2>Modifying Data<a class="headerlink" href="#modifying-data" title="Permalink to this headline">¶</a></h2>
<div class="section" id="appending-data">
<h3>Appending data<a class="headerlink" href="#appending-data" title="Permalink to this headline">¶</a></h3>
<p>The simplest way to modify some data might be to append some columns or rows.
The Stoner module redefines two standard operators, <tt class="docutils literal"><span class="pre">+</span></tt> and <tt class="docutils literal"><span class="pre">&amp;</span></tt> to
have special meanings:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">a</span><span class="o">=</span><span class="n">Stoner</span><span class="o">.</span><span class="n">DataFile</span><span class="p">(</span><span class="s">&#39;some_new_data.txt&#39;</span><span class="p">)</span>
<span class="n">add_rows</span><span class="o">=</span><span class="n">d</span><span class="o">+</span><span class="n">a</span>
<span class="n">add_columns</span><span class="o">=</span><span class="n">d</span><span class="o">&amp;</span><span class="n">a</span>
</pre></div>
</div>
<p>In these example, <em>a</em> is a second DataFile object that contains some
data. In the first example, a new DataFile object is created where the contents
of <em>a</em> are added as new rows after the data in <em>d</em>. Any metadata
that is in <em>a</em> and not in <em>d</em> are added to the metadata as well.
There is a requirement, however, that the column headers of <em>d</em> and
<em>a</em> are the same &#8211; ie that the two DataFile objects appear to represent
similar data.</p>
<p>In the second example, the data in <em>a</em> is added as new columns after the
data from <em>d</em>. In this case, there is a requirement that the two DataFile
objects have the same number of rows.</p>
<p>These operators are not limited just to DataFile objects, you can also add numpy
arrays to the DataFile object to append additional data.:</p>
<div class="highlight-python"><div class="highlight"><pre>import numpy as np
x=np.array([1,2,3])
new_data=d+x
y=np.array([1,2,3],[11,12,13],[21,22,23],[31,32,33]])
new_data=d+y
z={&quot;X&quot;:1.0,&quot;Y&quot;:2.1,&quot;Z&quot;:7.5}
new_data=d+z
new_data=d+[x,y,z]
column=d.column[0]
new_data=d&amp;column
</pre></div>
</div>
<p>In the first example above, we add a single row of data to <em>d</em>. This
assumes that the number of elements in the array matches the number of columns
in the data file. The second example is similar but this time appends a 2
dimensional numpy array to the data. The third example demonstrates adding data from a dictioary.
In this case the keys of the dictionary are used to determine which column the values are added
to. If their columns that don&#8217;t match one of the dictionary keys, then a <tt class="docutils literal"><span class="pre">NaN</span></tt> is inserted. If there
are keys that don&#8217;t match columns labels, then new columns are added to the data set, filled with <tt class="docutils literal"><span class="pre">NaN</span></tt>.
In the fourth example, each element in the list is added in turn to <em>d</em>. A similar effect would be achieved by doing
<tt class="docutils literal"><span class="pre">new_data=d+x+y+z</span></tt>.</p>
<p>The last example appends a numpy array as
a column to <em>d</em>. In this case the requirement is that the numpy array has
the same or fewer rows of data as <em>d</em>.</p>
</div>
<div class="section" id="id7">
<h3>Working with Columns of Data<a class="headerlink" href="#id7" title="Permalink to this headline">¶</a></h3>
<div class="section" id="rearranging-columns-of-data">
<h4>Rearranging Columns of Data<a class="headerlink" href="#rearranging-columns-of-data" title="Permalink to this headline">¶</a></h4>
<p>Sometimes it is useful to rearrange columns of data. <a class="reference internal" href="../classes/Stoner.Core.DataFile.html#Stoner.Core.DataFile" title="Stoner.Core.DataFile"><tt class="xref py py-class docutils literal"><span class="pre">DataFile</span></tt></a> offers a couple of methods to help with this.:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">d</span><span class="o">.</span><span class="n">swap_column</span><span class="p">((</span><span class="s">&#39;Resistance&#39;</span><span class="p">,</span><span class="s">&#39;Temperature&#39;</span><span class="p">))</span>
<span class="n">d</span><span class="o">.</span><span class="n">swap_column</span><span class="p">((</span><span class="s">&#39;Resistance&#39;</span><span class="p">,</span><span class="s">&#39;Temperature&#39;</span><span class="p">),</span><span class="n">headers_too</span><span class="o">=</span><span class="bp">False</span><span class="p">)</span>
<span class="n">d</span><span class="o">.</span><span class="n">swap_column</span><span class="p">([(</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">),(</span><span class="s">&#39;Temp&#39;</span><span class="p">,</span><span class="s">&#39;Volt&#39;</span><span class="p">),(</span><span class="mi">2</span><span class="p">,</span><span class="s">&#39;Curr&#39;</span><span class="p">)])</span>
<span class="n">d</span><span class="o">.</span><span class="n">reorder</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="s">&#39;Volt&#39;</span><span class="p">,</span><span class="s">&#39;Temp&#39;</span><span class="p">])</span>
<span class="n">d</span><span class="o">.</span><span class="n">reorder</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="s">&#39;Volt&#39;</span><span class="p">,</span><span class="s">&#39;Temp&#39;</span><span class="p">],</span><span class="n">header_too</span><span class="o">=</span><span class="bp">False</span><span class="p">)</span>
</pre></div>
</div>
<p>The <tt class="xref py py-meth docutils literal"><span class="pre">DataFile.swap()</span></tt> method takes either a tuple of column names, indices or a list of such
tuples and swaps the columns accordingly, whilst the <tt class="xref py py-meth docutils literal"><span class="pre">DataFile.reorder()</span></tt> method takes a
list of column labels or indices and constructs a new data matrix out of those columns in the new order.
The <tt class="docutils literal"><span class="pre">headers_too=False</span></tt> options, as the name suggests, cause the column headers not be rearranged.</p>
</div>
<div class="section" id="renaming-columns-of-data">
<h4>Renaming Columns of Data<a class="headerlink" href="#renaming-columns-of-data" title="Permalink to this headline">¶</a></h4>
<p>As a convenience, <a class="reference internal" href="../classes/Stoner.Core.DataFile.html#Stoner.Core.DataFile" title="Stoner.Core.DataFile"><tt class="xref py py-class docutils literal"><span class="pre">DataFile</span></tt></a> also offers a useful method to rename data columns:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">d</span><span class="o">.</span><span class="n">rename</span><span class="p">(</span><span class="s">&#39;old_name&#39;</span><span class="p">,</span><span class="s">&#39;new_name&#39;</span><span class="p">)</span>
<span class="n">d</span><span class="o">.</span><span class="n">rename</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="s">&#39;new_name&#39;</span><span class="p">)</span>
</pre></div>
</div>
<p>Alternatively,of course, one could just edit the column_headers attribute.</p>
</div>
<div class="section" id="inserting-columns-of-data">
<h4>Inserting Columns of Data<a class="headerlink" href="#inserting-columns-of-data" title="Permalink to this headline">¶</a></h4>
<p>The append columns operator <strong>&amp;</strong> will only add columns to the end of a
dataset. If you want to add a column of data in the middle of the data set then
you should use the <a class="reference internal" href="../classes/Stoner.Core.DataFile.add_column.html#Stoner.Core.DataFile.add_column" title="Stoner.Core.DataFile.add_column"><tt class="xref py py-meth docutils literal"><span class="pre">DataFile.add_column()</span></tt></a> method.:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">d</span><span class="o">.</span><span class="n">add_column</span><span class="p">(</span><span class="n">numpy</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="nb">range</span><span class="p">(</span><span class="mi">100</span><span class="p">)),</span><span class="s">&#39;Column Header&#39;</span><span class="p">)</span>
<span class="n">d</span><span class="o">.</span><span class="n">add_column</span><span class="p">(</span><span class="n">numpy</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="nb">range</span><span class="p">(</span><span class="mi">100</span><span class="p">)),</span><span class="s">&#39;Column Header&#39;</span><span class="p">,</span><span class="n">Index</span><span class="p">)</span>
<span class="n">d</span><span class="o">.</span><span class="n">add_column</span><span class="p">(</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="n">x</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">-</span><span class="n">x</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span><span class="s">&#39;Column Header&#39;</span><span class="p">,</span><span class="n">func_args</span><span class="o">=</span><span class="bp">None</span><span class="p">)</span>
</pre></div>
</div>
<p>The first example simply adds a column of data to the end of the dataset and
sets the new column headers. The second variant  inserts the new column before
column <em>Index</em>. <em>Index</em> follows the same rules as for the
<a class="reference internal" href="../classes/Stoner.Core.DataFile.column.html#Stoner.Core.DataFile.column" title="Stoner.Core.DataFile.column"><tt class="xref py py-meth docutils literal"><span class="pre">DataFile.column()</span></tt></a> method. In the third example, the new column data is
generated by applying the specified function. The function is passed s dingle
row as a 1D numpy array and any of the keyword, argument pairs passed in a
dictionary to the optional <em>func_args</em> argument.</p>
<p>The <a class="reference internal" href="../classes/Stoner.Core.DataFile.add_column.html#Stoner.Core.DataFile.add_column" title="Stoner.Core.DataFile.add_column"><tt class="xref py py-meth docutils literal"><span class="pre">DataFile.add_column()</span></tt></a> method returns a copy of the DataFile object
itself as well as modifying the object. This is to allow the metod to be chained
up with other methods for more compact code writing.</p>
</div>
</div>
<div class="section" id="deleting-rows-of-data">
<h3>Deleting Rows of Data<a class="headerlink" href="#deleting-rows-of-data" title="Permalink to this headline">¶</a></h3>
<p>Removing complete rows of data is achieved using the <a class="reference internal" href="../classes/Stoner.Core.DataFile.del_rows.html#Stoner.Core.DataFile.del_rows" title="Stoner.Core.DataFile.del_rows"><tt class="xref py py-meth docutils literal"><span class="pre">DataFile.del_rows()</span></tt></a>
method.:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">d</span><span class="o">.</span><span class="n">del_rows</span><span class="p">(</span><span class="mi">10</span><span class="p">)</span>
<span class="n">d</span><span class="o">.</span><span class="n">del_rows</span><span class="p">(</span><span class="s">&#39;X Col&#39;</span><span class="p">,</span><span class="n">value</span><span class="p">)</span>
<span class="n">d</span><span class="o">.</span><span class="n">del_rows</span><span class="p">(</span><span class="s">&#39;X Col&#39;</span><span class="p">,</span><span class="k">lambda</span> <span class="n">x</span><span class="p">,</span><span class="n">y</span><span class="p">:</span><span class="n">x</span><span class="o">&gt;</span><span class="mi">300</span><span class="p">)</span>
</pre></div>
</div>
<p>The first variant will delete row 10 from the data set (where the first row will
be row 0). You can also supply a list or slice to <a class="reference internal" href="../classes/Stoner.Core.DataFile.del_rows.html#Stoner.Core.DataFile.del_rows" title="Stoner.Core.DataFile.del_rows"><tt class="xref py py-meth docutils literal"><span class="pre">DataFile.del_rows()</span></tt></a> to
delete multiple rows.</p>
<p>If you do not know in advance which row to delete, then the second and third
variants provide more advanced options. The second variant searches for and
deletes all rows in which the specified column contains <em>value</em>. The
third variant selects which ros to delete by calling a user supplied function
for each row. The user supplied function is the same in form and definitition as
that used for the <a class="reference internal" href="../classes/Stoner.Core.DataFile.search.html#Stoner.Core.DataFile.search" title="Stoner.Core.DataFile.search"><tt class="xref py py-meth docutils literal"><span class="pre">DataFile.search()</span></tt></a> method.</p>
</div>
<div class="section" id="deleting-columns-of-data">
<h3>Deleting Columns of Data<a class="headerlink" href="#deleting-columns-of-data" title="Permalink to this headline">¶</a></h3>
<p>Deleting whole columns of data can be done by referring to a column by index or
column header - the indexing rules are the same as used for the
<a class="reference internal" href="../classes/Stoner.Core.DataFile.column.html#Stoner.Core.DataFile.column" title="Stoner.Core.DataFile.column"><tt class="xref py py-meth docutils literal"><span class="pre">DataFile.column()</span></tt></a> method.:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">d</span><span class="o">.</span><span class="n">del_column</span><span class="p">(</span><span class="s">&#39;Temperature&#39;</span><span class="p">)</span>
<span class="n">d</span><span class="o">.</span><span class="n">del_column</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="section" id="sorting-data">
<h3>Sorting Data<a class="headerlink" href="#sorting-data" title="Permalink to this headline">¶</a></h3>
<p>Data can be sorted by one or more columns, specifying the columns as a number or
string for single columns or a list or tuple of strings or numbers for multiple
columns. Currently only ascending sorts are supported.:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">d</span><span class="o">.</span><span class="n">sort</span><span class="p">(</span><span class="s">&#39;Temp&#39;</span><span class="p">)</span>
<span class="n">d</span><span class="o">.</span><span class="n">sort</span><span class="p">([</span><span class="s">&#39;Temp&#39;</span><span class="p">,</span><span class="s">&#39;Gate&#39;</span><span class="p">])</span>
</pre></div>
</div>
</div>
<div class="section" id="saving-data">
<h3>Saving Data<a class="headerlink" href="#saving-data" title="Permalink to this headline">¶</a></h3>
<p>Only saving data in the <em>TDI format</em> and as comma or tab deliminated formats is supported.</p>
<p>For example:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">d</span><span class="o">.</span><span class="n">save</span><span class="p">()</span>
<span class="n">d</span><span class="o">.</span><span class="n">save</span><span class="p">(</span><span class="n">filename</span><span class="p">)</span>
<span class="n">d</span><span class="o">=</span><span class="n">Stoner</span><span class="o">.</span><span class="n">CSVFile</span><span class="p">(</span><span class="n">d</span><span class="p">)</span>
<span class="n">d</span><span class="o">.</span><span class="n">save</span><span class="p">()</span>
<span class="n">d</span><span class="o">.</span><span class="n">save</span><span class="p">(</span><span class="n">filename</span><span class="p">,</span><span class="s">&#39;</span><span class="se">\t</span><span class="s">&#39;</span><span class="p">)</span>
</pre></div>
</div>
<p>In the first case, the filename used tosave the data is determined from the
filename attribute of the DataFile object. This will have been set when the
filewas loaded from disc.</p>
<p>If the filename attribute has not been set eg if the DataFile object was
created from scratch, then the <a class="reference internal" href="../classes/Stoner.Core.DataFile.save.html#Stoner.Core.DataFile.save" title="Stoner.Core.DataFile.save"><tt class="xref py py-meth docutils literal"><span class="pre">DataFile.save()</span></tt></a> method will cause a dialogue
box to be raised so that the user can supply a filename.</p>
<p>In the second variant, the supplied filename is used and the filename attribute
is changed to match this ie <tt class="docutils literal"><span class="pre">d.filename</span></tt> will always return the last
filename used for a load or save operation.</p>
<p>The third is similar but convert the file to <tt class="docutils literal"><span class="pre">cvs</span></tt> format while the fourth also
specifies that the eliminator is a tab character.</p>
</div>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar">
        <div class="sphinxsidebarwrapper">
            <p class="logo"><a href="../index.html">
              <img class="logo" src="../_static/StonerLogo.png" alt="Logo"/>
            </a></p>
  <h3><a href="../index.html">Table Of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">Loading and Examining Data</a><ul>
<li><a class="reference internal" href="#loading-a-data-file">Loading a data file</a><ul>
<li><a class="reference internal" href="#the-various-flavours-of-the-datafile-class">The Various Flavours of the <tt class="docutils literal"><span class="pre">DataFile</span></tt> Class</a><ul>
<li><a class="reference internal" href="#base-classes-and-generic-formats">Base Classes and Generic Formats</a></li>
<li><a class="reference internal" href="#classes-for-specifc-instruments-mainly-ones-owned-by-the-cm-physics-group-in-leeds">Classes for Specifc Instruments (Mainly ones owned by the CM Physics Group in Leeds)</a></li>
<li><a class="reference internal" href="#classes-for-instruments-at-major-facilities">Classes for Instruments at Major Facilities</a></li>
</ul>
</li>
<li><a class="reference internal" href="#loading-data-from-a-string-or-iterable-object">Loading Data from a string or iterable object</a></li>
</ul>
</li>
<li><a class="reference internal" href="#examining-and-basic-manipulations-of-data">Examining and Basic Manipulations of Data</a><ul>
<li><a class="reference internal" href="#data-structure">Data Structure</a><ul>
<li><a class="reference internal" href="#data-column-headers-and-metadata">Data, Column headers and metadata</a></li>
<li><a class="reference internal" href="#masked-data-and-why-you-care">Masked Data and Why You Care</a></li>
</ul>
</li>
<li><a class="reference internal" href="#working-with-columns-of-data">Working with columns of data</a><ul>
<li><a class="reference internal" href="#other-ways-to-identify-columns-of-data">Other ways to Identify Columns of Data</a></li>
</ul>
</li>
<li><a class="reference internal" href="#working-with-complete-rows-of-data">Working with complete rows of data</a></li>
<li><a class="reference internal" href="#manipulating-the-metadata">Manipulating the metadata</a></li>
<li><a class="reference internal" href="#more-on-indexing-the-data">More on Indexing the data</a><ul>
<li><a class="reference internal" href="#selecting-individual-rows-and-columns-of-data">Selecting Individual rows and columns of data</a></li>
<li><a class="reference internal" href="#searching-sectioning-and-filtering-the-data">Searching, sectioning and filtering the data</a></li>
<li><a class="reference internal" href="#find-out-more-about-the-data">Find out more about the data</a></li>
<li><a class="reference internal" href="#copying-data">Copying Data</a></li>
</ul>
</li>
</ul>
</li>
<li><a class="reference internal" href="#modifying-data">Modifying Data</a><ul>
<li><a class="reference internal" href="#appending-data">Appending data</a></li>
<li><a class="reference internal" href="#id7">Working with Columns of Data</a><ul>
<li><a class="reference internal" href="#rearranging-columns-of-data">Rearranging Columns of Data</a></li>
<li><a class="reference internal" href="#renaming-columns-of-data">Renaming Columns of Data</a></li>
<li><a class="reference internal" href="#inserting-columns-of-data">Inserting Columns of Data</a></li>
</ul>
</li>
<li><a class="reference internal" href="#deleting-rows-of-data">Deleting Rows of Data</a></li>
<li><a class="reference internal" href="#deleting-columns-of-data">Deleting Columns of Data</a></li>
<li><a class="reference internal" href="#sorting-data">Sorting Data</a></li>
<li><a class="reference internal" href="#saving-data">Saving Data</a></li>
</ul>
</li>
</ul>
</li>
</ul>

  <h4>Previous topic</h4>
  <p class="topless"><a href="install.html"
                        title="previous chapter">Installation of Stoner Package</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="plotfile.html"
                        title="next chapter">Plotting Data</a></p>
  <h3>This Page</h3>
  <ul class="this-page-menu">
    <li><a href="../_sources/UserGuide/datafile.txt"
           rel="nofollow">Show Source</a></li>
  </ul>
<div id="searchbox" style="display: none">
  <h3>Quick search</h3>
    <form class="search" action="../search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="plotfile.html" title="Plotting Data"
             >next</a> |</li>
        <li class="right" >
          <a href="install.html" title="Installation of Stoner Package"
             >previous</a> |</li>
        <li><a href="../index.html">Stoner Package</a> &raquo;</li>
          <li><a href="ugindex.html" >The Stoner Python Package User Guide</a> &raquo;</li> 
      </ul>
    </div>
    <div class="footer">
        &copy; Copyright 2013, Gavin Burnell et al.
      Last updated on Aug 17, 2014.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.2.2.
    </div>
  </body>
</html>